/*
 Bootstrap v3.2.0 (http://getbootstrap.com)
 Copyright 2011-2014 Twitter, Inc.
 Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 jQuery Validation Plugin - v1.11.1 - 3/22/2013\n* https://github.com/jzaefferer/jquery-validation
 Copyright (c) 2013 JÃ¶rn Zaefferer; Licensed MIT  bootstrap-fileinput v4.3.9
 http://plugins.krajee.com/file-input

 Author: Kartik Visweswaran
 Copyright: 2014 - 2017, Kartik Visweswaran, Krajee.com

 Licensed under the BSD 3-Clause
 https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md


 FileInput French Translations

 This file must be loaded after 'fileinput.js'. Patterns in braces '{}', or
 any HTML markup tags in the messages must not be converted or translated.

 @see http://github.com/kartik-v/bootstrap-fileinput

 NOTE: this file must be saved in UTF-8 encoding.
 FileInput Spanish Translations

 This file must be loaded after 'fileinput.js'. Patterns in braces '{}', or
 any HTML markup tags in the messages must not be converted or translated.

 @see http://github.com/kartik-v/bootstrap-fileinput

 NOTE: this file must be saved in UTF-8 encoding.
*/
(function(d,c){"function"===typeof define&&define.amd?define(["exports"],c):"object"===typeof exports&&"string"!==typeof exports.nodeName?c(exports):c(d.commonJsStrict={})})(this,function(d){function c(a){if(a in R)return a;for(var b=a[0].toUpperCase()+a.slice(1),e=v.length;e--;)if(a=v[e]+b,a in R)return a}function f(a,b){a=a||{};for(var e in b)b[e]&&b[e].constructor&&b[e].constructor===Object?(a[e]=a[e]||{},f(a[e],b[e])):a[e]=b[e];return a}function a(a){if("createEvent"in document){var b=document.createEvent("HTMLEvents");
b.initEvent("change",!1,!0);a.dispatchEvent(b)}else a.fireEvent("onchange")}function b(a,b,e){if("string"===typeof b){var c=b;b={};b[c]=e}for(var d in b)a.style[d]=b[d]}function e(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function g(a,b){var e=b||new Image;if(e.src===a)var c=new Promise(function(a,b){a(e)});else c=new Promise(function(b,c){"http"===a.substring(0,4).toLowerCase()&&e.setAttribute("crossOrigin","anonymous");e.onload=function(){setTimeout(function(){b(e)},1)}}),e.src=a;e.style.opacity=
0;return c}function h(a,b){window.EXIF||b(0);EXIF.getData(a,function(){var a=EXIF.getTag(this,"Orientation");b(a)})}function k(a,b,e){var c=b.width,d=b.height,h=a.getContext("2d");a.width=b.width;a.height=b.height;h.save();switch(e){case 2:h.translate(c,0);h.scale(-1,1);break;case 3:h.translate(c,d);h.rotate(180*Math.PI/180);break;case 4:h.translate(0,d);h.scale(1,-1);break;case 5:a.width=d;a.height=c;h.rotate(90*Math.PI/180);h.scale(1,-1);break;case 6:a.width=d;a.height=c;h.rotate(90*Math.PI/180);
h.translate(0,-d);break;case 7:a.width=d;a.height=c;h.rotate(-90*Math.PI/180);h.translate(-c,d);h.scale(1,-1);break;case 8:a.width=d,a.height=c,h.translate(0,c),h.rotate(-90*Math.PI/180)}h.drawImage(b,0,0,c,d);h.restore()}function l(a){if(this.options.enableZoom){var b=this.elements.zoomer;a=q(a,4);b.value=Math.max(b.min,Math.min(b.max,a))}}function m(){function a(){n.call(c,{value:parseFloat(h.value),origin:new L(c.elements.preview),viewportRect:c.elements.viewport.getBoundingClientRect(),transform:G.parse(c.elements.preview)})}
function b(b){var e=c._currentZoom+(b.wheelDelta?b.wheelDelta/1200:b.deltaY?b.deltaY/1060:b.detail?b.detail/-60:0);b.preventDefault();l.call(c,e);a.call(c)}var c=this,d=c.elements.zoomerWrap=document.createElement("div"),h=c.elements.zoomer=document.createElement("input");e(d,"cr-slider-wrap");e(h,"cr-slider");h.type="range";h.step="0.0001";h.value=1;h.style.display=c.options.showZoomer?"":"none";c.element.appendChild(d);d.appendChild(h);c._currentZoom=1;c.elements.zoomer.addEventListener("input",
a);c.elements.zoomer.addEventListener("change",a);c.options.mouseWheelZoom&&(c.elements.boundary.addEventListener("mousewheel",b),c.elements.boundary.addEventListener("DOMMouseScroll",b))}function n(a){function e(){var a={};a[M]=d.toString();a[E]=g.toString();b(c.elements.preview,a)}var c=this,d=a?a.transform:G.parse(c.elements.preview),h=a?a.viewportRect:c.elements.viewport.getBoundingClientRect(),g=a?a.origin:new L(c.elements.preview);c._currentZoom=a?a.value:c._currentZoom;d.scale=c._currentZoom;
e();c.options.enforceBoundary&&(h=r.call(c,h),a=h.translate,h=h.origin,d.x>=a.maxX&&(g.x=h.minX,d.x=a.maxX),d.x<=a.minX&&(g.x=h.maxX,d.x=a.minX),d.y>=a.maxY&&(g.y=h.minY,d.y=a.maxY),d.y<=a.minY&&(g.y=h.maxY,d.y=a.minY));e();U.call(c);t.call(c)}function r(a){var b=this._currentZoom,e=a.width;a=a.height;var c=this.options.boundary.width/2,d=this.options.boundary.height/2,h=this.elements.preview.getBoundingClientRect(),g=h.width;h=h.height;var k=e/2,f=a/2;c=-1*(k/b-c);d=-1*(f/b-d);k*=1/b;f*=1/b;return{translate:{maxX:c,
minX:c-(1/b*g-1/b*e),maxY:d,minY:d-(1/b*h-1/b*a)},origin:{maxX:1/b*g-k,minX:k,maxY:1/b*h-f,minY:f}}}function p(){var a=this._currentZoom,e=this.elements.preview.getBoundingClientRect(),c=this.elements.viewport.getBoundingClientRect(),d=G.parse(this.elements.preview.style[M]),h=new L(this.elements.preview),g=c.left-e.left+c.width/2;e=(c.top-e.top+c.height/2)/a;g/=a;c=(e-h.y)*(1-a);d.x-=(g-h.x)*(1-a);d.y-=c;a={};a[E]=g+"px "+e+"px";a[M]=d.toString();b(this.elements.preview,a)}function y(){function e(a,
b){var e=k.elements.preview.getBoundingClientRect(),c=r.y+b,d=r.x+a;k.options.enforceBoundary?(v.top>e.top+b&&v.bottom<e.bottom+b&&(r.y=c),v.left>e.left+a&&v.right<e.right+a&&(r.x=d)):(r.y=c,r.x=d)}function c(a){var c={};e(a[0],a[1]);c[M]=r.toString();b(k.elements.preview,c);z.call(k);document.body.style[I]="";p.call(k);t.call(k);q=0}function d(a){a.preventDefault();f||(f=!0,m=a.pageX,n=a.pageY,a.touches&&(a=a.touches[0],m=a.pageX,n=a.pageY),r=G.parse(k.elements.preview),window.addEventListener("mousemove",
h),window.addEventListener("touchmove",h),window.addEventListener("mouseup",g),window.addEventListener("touchend",g),document.body.style[I]="none",v=k.elements.viewport.getBoundingClientRect())}function h(c){c.preventDefault();var d=c.pageX,h=c.pageY;c.touches&&(h=c.touches[0],d=h.pageX,h=h.pageY);var g=d-m,f=h-n,x={};"touchmove"==c.type&&1<c.touches.length?(d=c.touches[0],c=c.touches[1],c=Math.sqrt((d.pageX-c.pageX)*(d.pageX-c.pageX)+(d.pageY-c.pageY)*(d.pageY-c.pageY)),q||(q=c/k._currentZoom),l.call(k,
c/q),a(k.elements.zoomer)):(e(g,f),x[M]=r.toString(),b(k.elements.preview,x),z.call(k),n=h,m=d)}function g(){f=!1;window.removeEventListener("mousemove",h);window.removeEventListener("touchmove",h);window.removeEventListener("mouseup",g);window.removeEventListener("touchend",g);document.body.style[I]="";p.call(k);t.call(k);q=0}var k=this,f=!1,m,n,q,v,r;k.elements.overlay.addEventListener("mousedown",d);k.elements.viewport.addEventListener("keydown",function(a){function b(a){switch(a){case 37:return[1,
0];case 38:return[0,1];case 39:return[-1,0];case 40:return[0,-1]}}if(!a.shiftKey||38!=a.keyCode&&40!=a.keyCode)37<=a.keyCode&&40>=a.keyCode&&(a.preventDefault(),a=b(a.keyCode),r=G.parse(k.elements.preview),document.body.style[I]="none",v=k.elements.viewport.getBoundingClientRect(),c(a));else{var e=0;e=38==a.keyCode?parseFloat(k.elements.zoomer.value,10)+parseFloat(k.elements.zoomer.step,10):parseFloat(k.elements.zoomer.value,10)-parseFloat(k.elements.zoomer.step,10);k.setZoom(e)}});k.elements.overlay.addEventListener("touchstart",
d)}function z(){var a=this.elements.boundary.getBoundingClientRect(),e=this.elements.preview.getBoundingClientRect();b(this.elements.overlay,{width:e.width+"px",height:e.height+"px",top:e.top-a.top+"px",left:e.left-a.left+"px"})}function t(){var a=this.get();if(0<this.elements.preview.offsetHeight&&0<this.elements.preview.offsetWidth)if(this.options.update.call(this,a),this.$)this.$(this.element).trigger("update",a);else{if(window.CustomEvent)var b=new CustomEvent("update",{detail:a});else b=document.createEvent("CustomEvent"),
b.initCustomEvent("update",!0,!0,a);this.element.dispatchEvent(b)}}function w(){var e=0,c=1.5,d=1,h={},g=this.elements.preview,k=this.elements.zoomer,f=new G(0,0,d),m=new L;if(0<this.elements.preview.offsetHeight&&0<this.elements.preview.offsetWidth&&!this.data.bound){this.data.bound=!0;h[M]=f.toString();h[E]=m.toString();h.opacity=1;b(g,h);m=g.getBoundingClientRect();var n=this.elements.viewport.getBoundingClientRect();var r=this.elements.boundary.getBoundingClientRect();this._originalImageWidth=
m.width;this._originalImageHeight=m.height;this.options.enableZoom?(this.options.enforceBoundary&&(e=n.width/m.width,d=n.height/m.height,e=Math.max(e,d)),e>=c&&(c=e+1),k.min=q(e,4),k.max=q(c,4),c=Math.max(r.width/m.width,r.height/m.height),d=null!==this.data.boundZoom?this.data.boundZoom:c,l.call(this,d),a(k)):this._currentZoom=d;f.scale=this._currentZoom;h[M]=f.toString();b(g,h);if(this.data.points.length){h=this.data.points;if(4!=h.length)throw"Croppie - Invalid number of points supplied: "+h;g=
h[2]-h[0];f=this.elements.viewport.getBoundingClientRect();c=this.elements.boundary.getBoundingClientRect();g=f.width/g;k=-1*h[1]+(f.top-c.top);f=-1*h[0]+(f.left-c.left);c={};c[E]=h[0]+"px "+h[1]+"px";c[M]=(new G(f,k,g)).toString();b(this.elements.preview,c);l.call(this,g);this._currentZoom=g}else h=this.elements.preview.getBoundingClientRect(),g=this.elements.viewport.getBoundingClientRect(),k=this.elements.boundary.getBoundingClientRect(),h=new G(g.left-k.left-(h.width-g.width)/2,g.top-k.top-(h.height-
g.height)/2,this._currentZoom),b(this.elements.preview,M,h.toString());p.call(this);z.call(this)}}function F(a){var b=this.elements.canvas,e=this.elements.img,c=b.getContext("2d"),d=this.options.enableExif&&window.EXIF;a=this.options.enableOrientation&&a;c.clearRect(0,0,b.width,b.height);b.width=e.width;b.height=e.height;d?h(e,function(c){k(b,e,parseInt(c));a&&k(b,e,a)}):a&&k(b,e,a)}function B(a,b){var e=this,c=[],d=null;if("string"===typeof a){var h=a;a={}}else if(Array.isArray(a))c=a.slice();else{if("undefined"==
typeof a&&e.data.url)return w.call(e),t.call(e),null;h=a.url;c=a.points||[];d="undefined"===typeof a.zoom?null:a.zoom}e.data.bound=!1;e.data.url=h||e.data.url;e.data.points=(c||e.data.points).map(function(a){return parseFloat(a)});e.data.boundZoom=d;h=g(h,e.elements.img);h.then(function(){e.options.useCanvas&&(e.elements.img.exifdata=null,F.call(e,a.orientation||1));w.call(e);t.call(e);b&&b()});return h}function q(a,b){return parseFloat(a).toFixed(b||0)}function K(){var a=this.elements.preview.getBoundingClientRect(),
b=this.elements.viewport.getBoundingClientRect(),e=b.left-a.left;a=b.top-a.top;var c=e+this.elements.viewport.offsetWidth+(b.width-this.elements.viewport.offsetWidth)/2;b=a+this.elements.viewport.offsetHeight+(b.height-this.elements.viewport.offsetHeight)/2;var d=this._currentZoom;if(Infinity===d||isNaN(d))d=1;var h=this.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;e=Math.max(h,e/d);a=Math.max(h,a/d);c=Math.max(h,c/d);b=Math.max(h,b/d);return{points:[q(e),q(a),q(c),q(b)],zoom:d}}function A(a){var c=
this,d=K.call(c),h=f(O,f({},a)),g="string"===typeof a?a:h.type||"viewport";a=h.size;var k=h.format,l=h.quality,m=h.backgroundColor;h="boolean"===typeof h.circle?h.circle:"circle"===c.options.viewport.type;var n=c.elements.viewport.getBoundingClientRect(),q=n.width/n.height;"viewport"===a?(d.outputWidth=n.width,d.outputHeight=n.height):"object"===typeof a&&(a.width&&a.height?(d.outputWidth=a.width,d.outputHeight=a.height):a.width?(d.outputWidth=a.width,d.outputHeight=a.width/q):a.height&&(d.outputWidth=
a.height*q,d.outputHeight=a.height));-1<u.indexOf(k)&&(d.format="image/"+k,d.quality=l);d.circle=h;d.url=c.data.url;d.backgroundColor=m;return new Promise(function(a,h){if("canvas"===g){var k=c.elements.preview;var f=d.points,l=f[0],m=f[1],n=f[2]-f[0];f=f[3]-f[1];var q=d.circle,p=document.createElement("canvas"),r=p.getContext("2d"),v=n,x=f;d.outputWidth&&d.outputHeight&&(v=d.outputWidth,x=d.outputHeight);p.width=v;p.height=x;d.backgroundColor&&(r.fillStyle=d.backgroundColor,r.fillRect(0,0,v,x));
r.drawImage(k,l,m,n,f,0,0,v,x);q&&(r.fillStyle="#fff",r.globalCompositeOperation="destination-in",r.beginPath(),r.arc(v/2,x/2,v/2,0,2*Math.PI,!0),r.closePath(),r.fill());k=p.toDataURL(d.format,d.quality);a(k)}else k=d.points,l=document.createElement("div"),m=document.createElement("img"),n=k[2]-k[0],f=k[3]-k[1],e(l,"croppie-result"),l.appendChild(m),b(m,{left:-1*k[0]+"px",top:-1*k[1]+"px"}),m.src=d.url,b(l,{width:n+"px",height:f+"px"}),a(l)})}function C(a,c){this.element=a;this.options=f(f({},C.defaults),
c);var d=this.options.viewport.type?"cr-vp-"+this.options.viewport.type:null;this.options.useCanvas=this.options.enableOrientation||this.options.enableExif&&window.EXIF;this.data={};this.elements={};var h=this.elements.boundary=document.createElement("div");var g=this.elements.viewport=document.createElement("div");this.elements.img=document.createElement("img");var k=this.elements.overlay=document.createElement("div");this.options.useCanvas?(this.elements.canvas=document.createElement("canvas"),
this.elements.preview=this.elements.canvas):this.elements.preview=this.elements.img;e(h,"cr-boundary");b(h,{width:this.options.boundary.width+"px",height:this.options.boundary.height+"px"});e(g,"cr-viewport");d&&e(g,d);b(g,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"});g.setAttribute("tabindex",0);e(this.elements.preview,"cr-image");e(k,"cr-overlay");this.element.appendChild(h);h.appendChild(this.elements.preview);h.appendChild(g);h.appendChild(k);e(this.element,
"croppie-container");this.options.customClass&&e(this.element,this.options.customClass);y.call(this);this.options.enableZoom&&m.call(this);this.options.url&&(d={url:this.options.url,points:this.options.points},delete this.options.url,delete this.options.points,B.call(this,d))}"function"!==typeof Promise&&!function(a){function b(a,b){return function(){a.apply(b,arguments)}}function e(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");
this._value=this._state=null;this._deferreds=[];f(a,b(d,this),b(h,this))}function c(a){var b=this;return null===this._state?void this._deferreds.push(a):void m(function(){var e=b._state?a.onFulfilled:a.onRejected;if(null===e)return void(b._state?a.resolve:a.reject)(b._value);try{var c=e(b._value)}catch(W){return void a.reject(W)}a.resolve(c)})}function d(a){try{if(a===this)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var e=a.then;
if("function"==typeof e)return void f(b(e,a),b(d,this),b(h,this))}this._state=!0;this._value=a;g.call(this)}catch(ba){h.call(this,ba)}}function h(a){this._state=!1;this._value=a;g.call(this)}function g(){for(var a=0,b=this._deferreds.length;b>a;a++)c.call(this,this._deferreds[a]);this._deferreds=null}function k(a,b,e,c){this.onFulfilled="function"==typeof a?a:null;this.onRejected="function"==typeof b?b:null;this.resolve=e;this.reject=c}function f(a,b,e){var c=!1;try{a(function(a){c||(c=!0,b(a))},
function(a){c||(c=!0,e(a))})}catch(W){c||(c=!0,e(W))}}var l=setTimeout,m="function"==typeof setImmediate&&setImmediate||function(a){l(a,1)},n=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e.prototype["catch"]=function(a){return this.then(null,a)};e.prototype.then=function(a,b){var d=this;return new e(function(e,h){c.call(d,new k(a,b,e,h))})};e.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return new e(function(b,
e){function c(h,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var k=g.then;if("function"==typeof k)return void k.call(g,function(a){c(h,a)},e)}a[h]=g;0===--d&&b(a)}catch(X){e(X)}}if(0===a.length)return b([]);for(var d=a.length,h=0;h<a.length;h++)c(h,a[h])})};e.resolve=function(a){return a&&"object"==typeof a&&a.constructor===e?a:new e(function(b){b(a)})};e.reject=function(a){return new e(function(b,e){e(a)})};e.race=function(a){return new e(function(b,e){for(var c=0,d=a.length;d>c;c++)a[c].then(b,
e)})};e._setImmediateFn=function(a){m=a};"undefined"!=typeof module&&module.exports?module.exports=e:a.Promise||(a.Promise=e)}(this);"function"!==typeof window.CustomEvent&&function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");e.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);return e}a.prototype=window.Event.prototype;window.CustomEvent=a}();var v=["Webkit","Moz","ms"],R=document.createElement("div").style;var M=c("transform");var E=
c("transformOrigin");var I=c("userSelect");var G=function(a,b,e){this.x=parseFloat(a);this.y=parseFloat(b);this.scale=parseFloat(e)};G.parse=function(a){return a.style?G.parse(a.style[M]):-1<a.indexOf("matrix")||-1<a.indexOf("none")?G.fromMatrix(a):G.fromString(a)};G.fromMatrix=function(a){var b=a.substring(7).split(",");b.length&&"none"!==a||(b=[1,0,0,1,0,0]);return new G(parseInt(b[4],10),parseInt(b[5],10),parseFloat(b[0]))};G.fromString=function(a){var b=a.split(") ");a=b[0].substring(12).split(",");
b=1<b.length?b[1].substring(6):1;return new G(1<a.length?a[0]:0,1<a.length?a[1]:0,b)};G.prototype.toString=function(){return"translate3d("+this.x+"px, "+this.y+"px, 0px) scale("+this.scale+")"};var L=function(a){a&&a.style[E]?(a=a.style[E].split(" "),this.x=parseFloat(a[0]),this.y=parseFloat(a[1])):this.y=this.x=0};L.prototype.toString=function(){return this.x+"px "+this.y+"px"};var U=function(a,b,e){var c;return function(){var d=this,h=arguments,g=e&&!c;clearTimeout(c);c=setTimeout(function(){c=
null;e||a.apply(d,h)},b);g&&a.apply(d,h)}}(z,500),O={type:"canvas",format:"png",quality:1},u=["jpeg","webp","png"];if(window.jQuery){var D=window.jQuery;D.fn.croppie=function(a){if("string"===typeof a){var b=Array.prototype.slice.call(arguments,1),e=D(this).data("croppie");return"get"===a?e.get():"result"===a?e.result.apply(e,b):"bind"===a?e.bind.apply(e,b):this.each(function(){var e=D(this).data("croppie");if(e){var c=e[a];if(D.isFunction(c))c.apply(e,b),"destroy"===a&&D(this).removeData("croppie");
else throw"Croppie "+a+" method not found";}})}return this.each(function(){var b=new C(this,a);b.$=D;D(this).data("croppie",b)})}}C.defaults={viewport:{width:100,height:100,type:"square"},boundary:{width:300,height:300},orientationControls:{enabled:!0,leftClass:"",rightClass:""},customClass:"",showZoomer:!0,enableZoom:!0,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,update:function(){}};f(C.prototype,{bind:function(a,b){return B.call(this,a,b)},get:function(){return K.call(this)},
result:function(a){return A.call(this,a)},refresh:function(){w.call(this)},setZoom:function(b){l.call(this,b);a(this.elements.zoomer)},rotate:function(a){if(!this.options.useCanvas)throw"Croppie: Cannot rotate without enableOrientation";var b=this.elements.canvas,e=document.createElement("canvas"),c=1;e.width=b.width;e.height=b.height;e.getContext("2d").drawImage(b,0,0);if(90===a||-270===a)c=6;if(-90===a||270===a)c=8;if(180===a||-180===a)c=3;k(b,e,c);n.call(this)},destroy:function(){this.element.removeChild(this.elements.boundary);
var a=this.element;a.classList?a.classList.remove("croppie-container"):a.className=a.className.replace("croppie-container","");this.options.enableZoom&&this.element.removeChild(this.elements.zoomerWrap);delete this.elements}});d.Croppie=window.Croppie=C;"object"===typeof module&&module.exports&&(module.exports=C)});if("undefined"==typeof jQuery)throw Error("Bootstrap's JavaScript requires jQuery");
+function(d){function c(){var c=document.createElement("bootstrap"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},b;for(b in a)if(void 0!==c.style[b])return{end:a[b]};return!1}d.fn.emulateTransitionEnd=function(c){var a=!1,b=this;d(this).one("bsTransitionEnd",function(){a=!0});return setTimeout(function(){a||d(b).trigger(d.support.transition.end)},c),this};d(function(){d.support.transition=c();d.support.transition&&
(d.event.special.bsTransitionEnd={bindType:d.support.transition.end,delegateType:d.support.transition.end,handle:function(c){return d(c.target).is(this)?c.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery);
+function(d){var c=function(a){d(a).on("click",'[data-dismiss="alert"]',this.close)};c.VERSION="3.2.0";c.prototype.close=function(a){function b(){h.detach().trigger("closed.bs.alert").remove()}var e=d(this),c=e.attr("data-target");c||(c=e.attr("href"),c=c&&c.replace(/.*(?=#[^\s]*$)/,""));var h=d(c);a&&a.preventDefault();h.length||(h=e.hasClass("alert")?e:e.parent());h.trigger(a=d.Event("close.bs.alert"));a.isDefaultPrevented()||(h.removeClass("in"),d.support.transition&&h.hasClass("fade")?h.one("bsTransitionEnd",
b).emulateTransitionEnd(150):b())};var f=d.fn.alert;d.fn.alert=function(a){return this.each(function(){var b=d(this),e=b.data("bs.alert");e||b.data("bs.alert",e=new c(this));"string"==typeof a&&e[a].call(b)})};d.fn.alert.Constructor=c;d.fn.alert.noConflict=function(){return d.fn.alert=f,this};d(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',c.prototype.close)}(jQuery);
+function(d){function c(a){return this.each(function(){var b=d(this),c=b.data("bs.button"),h="object"==typeof a&&a;c||b.data("bs.button",c=new f(this,h));"toggle"==a?c.toggle():a&&c.setState(a)})}var f=function(a,e){this.$element=d(a);this.options=d.extend({},f.DEFAULTS,e);this.isLoading=!1};f.VERSION="3.2.0";f.DEFAULTS={loadingText:"loading..."};f.prototype.setState=function(a){var b=this.$element,c=b.is("input")?"val":"html",h=b.data();a+="Text";null==h.resetText&&b.data("resetText",b[c]());b[c](null==
h[a]?this.options[a]:h[a]);setTimeout(d.proxy(function(){"loadingText"==a?(this.isLoading=!0,b.addClass("disabled").attr("disabled","disabled")):this.isLoading&&(this.isLoading=!1,b.removeClass("disabled").removeAttr("disabled"))},this),0)};f.prototype.toggle=function(){var a=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:e.find(".active").removeClass("active"));
a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var a=d.fn.button;d.fn.button=c;d.fn.button.Constructor=f;d.fn.button.noConflict=function(){return d.fn.button=a,this};d(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(a){var b=d(a.target);b.hasClass("btn")||(b=b.closest(".btn"));c.call(b,"toggle");a.preventDefault()})}(jQuery);
+function(d){function c(a){return this.each(function(){var b=d(this),c=b.data("bs.carousel"),h=d.extend({},f.DEFAULTS,b.data(),"object"==typeof a&&a),k="string"==typeof a?a:h.slide;c||b.data("bs.carousel",c=new f(this,h));"number"==typeof a?c.to(a):k?c[k]():h.interval&&c.pause().cycle()})}var f=function(a,c){this.$element=d(a).on("keydown.bs.carousel",d.proxy(this.keydown,this));this.$indicators=this.$element.find(".carousel-indicators");this.options=c;this.paused=this.sliding=this.interval=this.$active=
this.$items=null;"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};f.VERSION="3.2.0";f.DEFAULTS={interval:5E3,pause:"hover",wrap:!0};f.prototype.keydown=function(a){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()};f.prototype.cycle=function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&
(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this};f.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)};f.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",d(this.$items[a]))};f.prototype.pause=
function(a){return a||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};f.prototype.next=function(){return this.sliding?void 0:this.slide("next")};f.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")};f.prototype.slide=function(a,c){var b=this.$element.find(".item.active"),e=c||b[a](),k=this.interval,f="next"==a?"left":"right",m="next"==
a?"first":"last",n=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[m]()}if(e.hasClass("active"))return this.sliding=!1;m=e[0];var r=d.Event("slide.bs.carousel",{relatedTarget:m,direction:f});if(this.$element.trigger(r),!r.isDefaultPrevented()){if(this.sliding=!0,k&&this.pause(),this.$indicators.length)this.$indicators.find(".active").removeClass("active"),(r=d(this.$indicators.children()[this.getItemIndex(e)]))&&r.addClass("active");var p=d.Event("slid.bs.carousel",{relatedTarget:m,
direction:f});return d.support.transition&&this.$element.hasClass("slide")?(e.addClass(a),e[0].offsetWidth,b.addClass(f),e.addClass(f),b.one("bsTransitionEnd",function(){e.removeClass([a,f].join(" ")).addClass("active");b.removeClass(["active",f].join(" "));n.sliding=!1;setTimeout(function(){n.$element.trigger(p)},0)}).emulateTransitionEnd(1E3*b.css("transition-duration").slice(0,-1))):(b.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger(p)),k&&this.cycle(),this}};var a=
d.fn.carousel;d.fn.carousel=c;d.fn.carousel.Constructor=f;d.fn.carousel.noConflict=function(){return d.fn.carousel=a,this};d(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(a){var b,g=d(this),h=d(g.attr("data-target")||(b=g.attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,""));h.hasClass("carousel")&&(b=d.extend({},h.data(),g.data()),(g=g.attr("data-slide-to"))&&(b.interval=!1),c.call(h,b),g&&h.data("bs.carousel").to(g),a.preventDefault())});d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var a=
d(this);c.call(a,a.data())})})}(jQuery);
+function(d){function c(a){return this.each(function(){var b=d(this),c=b.data("bs.collapse"),h=d.extend({},f.DEFAULTS,b.data(),"object"==typeof a&&a);!c&&h.toggle&&"show"==a&&(a=!a);c||b.data("bs.collapse",c=new f(this,h));"string"==typeof a&&c[a]()})}var f=function(a,c){this.$element=d(a);this.options=d.extend({},f.DEFAULTS,c);this.transitioning=null;this.options.parent&&(this.$parent=d(this.options.parent));this.options.toggle&&this.toggle()};f.VERSION="3.2.0";f.DEFAULTS={toggle:!0};f.prototype.dimension=
function(){return this.$element.hasClass("width")?"width":"height"};f.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var a=d.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){if((a=this.$parent&&this.$parent.find("> .panel > .in"))&&a.length){var e=a.data("bs.collapse");if(e&&e.transitioning)return;c.call(a,"hide");e||a.data("bs.collapse",null)}var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0);this.transitioning=
1;a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!d.support.transition)return a.call(this);e=d.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",d.proxy(a,this)).emulateTransitionEnd(350)[g](this.$element[0][e])}}};f.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var a=d.Event("hide.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){a=
this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var c=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return d.support.transition?void this.$element[a](0).one("bsTransitionEnd",d.proxy(c,this)).emulateTransitionEnd(350):c.call(this)}}};f.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":
"show"]()};var a=d.fn.collapse;d.fn.collapse=c;d.fn.collapse.Constructor=f;d.fn.collapse.noConflict=function(){return d.fn.collapse=a,this};d(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(a){var b,g=d(this);a=g.attr("data-target")||a.preventDefault()||(b=g.attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,"");b=d(a);var h=(a=b.data("bs.collapse"))?"toggle":g.data(),k=g.attr("data-parent"),f=k&&d(k);a&&a.transitioning||(f&&f.find('[data-toggle="collapse"][data-parent="'+k+'"]').not(g).addClass("collapsed"),
g[b.hasClass("in")?"addClass":"removeClass"]("collapsed"));c.call(b,h)})}(jQuery);
+function(d){function c(c){c&&3===c.which||(d(a).remove(),d(b).each(function(){var a=f(d(this)),b={relatedTarget:this};a.hasClass("open")&&(a.trigger(c=d.Event("hide.bs.dropdown",b)),c.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown",b))}))}function f(a){var b=a.attr("data-target");b||(b=a.attr("href"),b=b&&/#[A-Za-z]/.test(b)&&b.replace(/.*(?=#[^\s]*$)/,""));return(b=b&&d(b))&&b.length?b:a.parent()}var a=".dropdown-backdrop",b='[data-toggle="dropdown"]',e=function(a){d(a).on("click.bs.dropdown",
this.toggle)};e.VERSION="3.2.0";e.prototype.toggle=function(a){var b=d(this);if(!b.is(".disabled, :disabled")){var e=f(b),h=e.hasClass("open");if(c(),!h){"ontouchstart"in document.documentElement&&!e.closest(".navbar-nav").length&&d('<div class="dropdown-backdrop"/>').insertAfter(d(this)).on("click",c);h={relatedTarget:this};if(e.trigger(a=d.Event("show.bs.dropdown",h)),a.isDefaultPrevented())return;b.trigger("focus");e.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}};e.prototype.keydown=
function(a){if(/(38|40|27)/.test(a.keyCode)){var c=d(this);if(a.preventDefault(),a.stopPropagation(),!c.is(".disabled, :disabled")){var e=f(c),h=e.hasClass("open");if(!h||h&&27==a.keyCode)return 27==a.which&&e.find(b).trigger("focus"),c.trigger("click");c=e.find('[role="menu"] li:not(.divider):visible a, [role="listbox"] li:not(.divider):visible a');c.length&&(e=c.index(c.filter(":focus")),38==a.keyCode&&0<e&&e--,40==a.keyCode&&e<c.length-1&&e++,~e||(e=0),c.eq(e).trigger("focus"))}}};var g=d.fn.dropdown;
d.fn.dropdown=function(a){return this.each(function(){var b=d(this),c=b.data("bs.dropdown");c||b.data("bs.dropdown",c=new e(this));"string"==typeof a&&c[a].call(b)})};d.fn.dropdown.Constructor=e;d.fn.dropdown.noConflict=function(){return d.fn.dropdown=g,this};d(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",b,e.prototype.toggle).on("keydown.bs.dropdown.data-api",b+', [role="menu"], [role="listbox"]',
e.prototype.keydown)}(jQuery);
+function(d){function c(a,c){return this.each(function(){var b=d(this),e=b.data("bs.modal"),k=d.extend({},f.DEFAULTS,b.data(),"object"==typeof a&&a);e||b.data("bs.modal",e=new f(this,k));"string"==typeof a?e[a](c):k.show&&e.show(c)})}var f=function(a,c){this.options=c;this.$body=d(document.body);this.$element=d(a);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,d.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};
f.VERSION="3.2.0";f.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};f.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)};f.prototype.show=function(a){var b=this,c=d.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(c);this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',d.proxy(this.hide,this)),this.backdrop(function(){var c=
d.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(b.$body);b.$element.show().scrollTop(0);c&&b.$element[0].offsetWidth;b.$element.addClass("in").attr("aria-hidden",!1);b.enforceFocus();var e=d.Event("shown.bs.modal",{relatedTarget:a});c?b.$element.find(".modal-dialog").one("bsTransitionEnd",function(){b.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):b.$element.trigger("focus").trigger(e)}))};f.prototype.hide=function(a){a&&a.preventDefault();
a=d.Event("hide.bs.modal");this.$element.trigger(a);this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),d(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),d.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",d.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};f.prototype.enforceFocus=function(){d(document).off("focusin.bs.modal").on("focusin.bs.modal",
d.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))};f.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",d.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")};f.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.$element.trigger("hidden.bs.modal")})};f.prototype.removeBackdrop=
function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};f.prototype.backdrop=function(a){var b=this,c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var h=d.support.transition&&c;if(this.$backdrop=d('<div class="modal-backdrop '+c+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",d.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},
this)),h&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),a)h?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(150):a()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),c=function(){b.removeBackdrop();a&&a()},d.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(150):c()):a&&a()};f.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||
this.measureScrollbar())};f.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)};f.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};f.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure";this.$body.append(a);var c=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),c};var a=d.fn.modal;d.fn.modal=
c;d.fn.modal.Constructor=f;d.fn.modal.noConflict=function(){return d.fn.modal=a,this};d(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var b=d(this),g=b.attr("href"),h=d(b.attr("data-target")||g&&g.replace(/.*(?=#[^\s]+$)/,""));g=h.data("bs.modal")?"toggle":d.extend({remote:!/#/.test(g)&&g},h.data(),b.data());b.is("a")&&a.preventDefault();h.one("show.bs.modal",function(a){a.isDefaultPrevented()||h.one("hidden.bs.modal",function(){b.is(":visible")&&b.trigger("focus")})});
c.call(h,g,this)})}(jQuery);
+function(d){var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,b)};c.VERSION="3.2.0";c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};c.prototype.init=function(a,b,c){this.enabled=!0;this.type=a;this.$element=
d(b);this.options=this.getOptions(c);this.$viewport=this.options.viewport&&d(this.options.viewport.selector||this.options.viewport);a=this.options.trigger.split(" ");for(b=a.length;b--;)if(c=a[b],"click"==c)this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this));else if("manual"!=c){var e="hover"==c?"mouseleave":"focusout";this.$element.on(("hover"==c?"mouseenter":"focusin")+"."+this.type,this.options.selector,d.proxy(this.enter,this));this.$element.on(e+"."+this.type,
this.options.selector,d.proxy(this.leave,this))}this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};c.prototype.getDefaults=function(){return c.DEFAULTS};c.prototype.getOptions=function(a){return a=d.extend({},this.getDefaults(),this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a};c.prototype.getDelegateOptions=function(){var a={},b=this.getDefaults();return this._options&&d.each(this._options,
function(c,d){b[c]!=d&&(a[c]=d)}),a};c.prototype.enter=function(a){var b=a instanceof this.constructor?a:d(a.currentTarget).data("bs."+this.type);return b||(b=new this.constructor(a.currentTarget,this.getDelegateOptions()),d(a.currentTarget).data("bs."+this.type,b)),clearTimeout(b.timeout),b.hoverState="in",b.options.delay&&b.options.delay.show?void(b.timeout=setTimeout(function(){"in"==b.hoverState&&b.show()},b.options.delay.show)):b.show()};c.prototype.leave=function(a){var b=a instanceof this.constructor?
a:d(a.currentTarget).data("bs."+this.type);return b||(b=new this.constructor(a.currentTarget,this.getDelegateOptions()),d(a.currentTarget).data("bs."+this.type,b)),clearTimeout(b.timeout),b.hoverState="out",b.options.delay&&b.options.delay.hide?void(b.timeout=setTimeout(function(){"out"==b.hoverState&&b.hide()},b.options.delay.hide)):b.hide()};c.prototype.show=function(){var a=d.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(a);var b=d.contains(document.documentElement,
this.$element[0]);if(!a.isDefaultPrevented()&&b){var c=this;a=this.tip();b=this.getUID(this.type);this.setContent();a.attr("id",b);this.$element.attr("aria-describedby",b);this.options.animation&&a.addClass("fade");b="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement;var g=/\s?auto?\s?/i,h=g.test(b);h&&(b=b.replace(g,"")||"top");a.detach().css({top:0,left:0,display:"block"}).addClass(b).data("bs."+this.type,this);this.options.container?
a.appendTo(this.options.container):a.insertAfter(this.$element);g=this.getPosition();var k=a[0].offsetWidth,f=a[0].offsetHeight;if(h){h=b;var m=this.$element.parent();m=this.getPosition(m);b="bottom"==b&&g.top+g.height+f-m.scroll>m.height?"top":"top"==b&&0>g.top-m.scroll-f?"bottom":"right"==b&&g.right+k>m.width?"left":"left"==b&&g.left-k<m.left?"right":b;a.removeClass(h).addClass(b)}g=this.getCalculatedOffset(b,g,k,f);this.applyPlacement(g,b);b=function(){c.$element.trigger("shown.bs."+c.type);c.hoverState=
null};d.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",b).emulateTransitionEnd(150):b()}}};c.prototype.applyPlacement=function(a,b){var c=this.tip(),g=c[0].offsetWidth,h=c[0].offsetHeight,k=parseInt(c.css("margin-top"),10),f=parseInt(c.css("margin-left"),10);isNaN(k)&&(k=0);isNaN(f)&&(f=0);a.top+=k;a.left+=f;d.offset.setOffset(c[0],d.extend({using:function(a){c.css({top:Math.round(a.top),left:Math.round(a.left)})}},a),0);c.addClass("in");f=c[0].offsetWidth;var m=c[0].offsetHeight;
"top"==b&&m!=h&&(a.top=a.top+h-m);k=this.getViewportAdjustedDelta(b,a,f,m);k.left?a.left+=k.left:a.top+=k.top;g=k.left?2*k.left-g+f:2*k.top-h+m;h=k.left?"left":"top";k=k.left?"offsetWidth":"offsetHeight";c.offset(a);this.replaceArrow(g,c[0][k],h)};c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")};c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};
c.prototype.hide=function(){function a(){"in"!=b.hoverState&&c.detach();b.$element.trigger("hidden.bs."+b.type)}var b=this,c=this.tip(),g=d.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(g),g.isDefaultPrevented()?void 0:(c.removeClass("in"),d.support.transition&&this.$tip.hasClass("fade")?c.one("bsTransitionEnd",a).emulateTransitionEnd(150):a(),this.hoverState=null,this)};c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=
typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};c.prototype.hasContent=function(){return this.getTitle()};c.prototype.getPosition=function(a){a=a||this.$element;var b=a[0],c="BODY"==b.tagName;return d.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():null,{scroll:c?document.documentElement.scrollTop||document.body.scrollTop:a.scrollTop(),width:c?d(window).width():a.outerWidth(),height:c?d(window).height():a.outerHeight()},
c?{top:0,left:0}:a.offset())};c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}};c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var g=this.options.viewport&&this.options.viewport.padding||0,f=this.getPosition(this.$viewport);/right|left/.test(a)?
(c=b.top-g-f.scroll,b=b.top+g-f.scroll+d,c<f.top?e.top=f.top-c:b>f.top+f.height&&(e.top=f.top+f.height-b)):(d=b.left-g,b=b.left+g+c,d<f.left?e.left=f.left-d:b>f.width&&(e.left=f.left+f.width-b));return e};c.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)};c.prototype.getUID=function(a){do a+=~~(1E6*Math.random());while(document.getElementById(a));return a};c.prototype.tip=function(){return this.$tip=
this.$tip||d(this.options.template)};c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};c.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)};c.prototype.enable=function(){this.enabled=!0};c.prototype.disable=function(){this.enabled=!1};c.prototype.toggleEnabled=function(){this.enabled=!this.enabled};c.prototype.toggle=function(a){var b=this;a&&(b=d(a.currentTarget).data("bs."+this.type),b||(b=
new this.constructor(a.currentTarget,this.getDelegateOptions()),d(a.currentTarget).data("bs."+this.type,b)));b.tip().hasClass("in")?b.leave(b):b.enter(b)};c.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var f=d.fn.tooltip;d.fn.tooltip=function(a){return this.each(function(){var b=d(this),e=b.data("bs.tooltip"),g="object"==typeof a&&a;(e||"destroy"!=a)&&(e||b.data("bs.tooltip",e=new c(this,g)),"string"==typeof a&&e[a]())})};
d.fn.tooltip.Constructor=c;d.fn.tooltip.noConflict=function(){return d.fn.tooltip=f,this}}(jQuery);
+function(d){var c=function(a,b){this.init("popover",a,b)};if(!d.fn.tooltip)throw Error("Popover requires tooltip.js");c.VERSION="3.2.0";c.DEFAULTS=d.extend({},d.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});c.prototype=d.extend({},d.fn.tooltip.Constructor.prototype);c.prototype.constructor=c;c.prototype.getDefaults=function(){return c.DEFAULTS};
c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b);a.find(".popover-content").empty()[this.options.html?"string"==typeof c?"html":"append":"text"](c);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};c.prototype.hasContent=function(){return this.getTitle()||this.getContent()};c.prototype.getContent=function(){var a=this.$element,b=this.options;
return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)};c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};c.prototype.tip=function(){return this.$tip||(this.$tip=d(this.options.template)),this.$tip};var f=d.fn.popover;d.fn.popover=function(a){return this.each(function(){var b=d(this),e=b.data("bs.popover"),g="object"==typeof a&&a;(e||"destroy"!=a)&&(e||b.data("bs.popover",e=new c(this,g)),"string"==typeof a&&e[a]())})};d.fn.popover.Constructor=
c;d.fn.popover.noConflict=function(){return d.fn.popover=f,this}}(jQuery);
+function(d){function c(a,e){var b=d.proxy(this.process,this);this.$body=d("body");this.$scrollElement=d(d(a).is("body")?window:a);this.options=d.extend({},c.DEFAULTS,e);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",b);this.refresh();this.process()}function f(a){return this.each(function(){var b=d(this),g=b.data("bs.scrollspy"),h="object"==typeof a&&a;g||b.data("bs.scrollspy",
g=new c(this,h));"string"==typeof a&&g[a]()})}c.VERSION="3.2.0";c.DEFAULTS={offset:10};c.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};c.prototype.refresh=function(){var a="offset",c=0;d.isWindow(this.$scrollElement[0])||(a="position",c=this.$scrollElement.scrollTop());this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var g=this;this.$body.find(this.selector).map(function(){var b=
d(this);b=b.data("target")||b.attr("href");var e=/^#./.test(b)&&d(b);return e&&e.length&&e.is(":visible")&&[[e[a]().top+c,b]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){g.offsets.push(this[0]);g.targets.push(this[1])})};c.prototype.process=function(){var a,c=this.$scrollElement.scrollTop()+this.options.offset,d=this.getScrollHeight(),h=this.options.offset+d-this.$scrollElement.height(),f=this.offsets,l=this.targets,m=this.activeTarget;if(this.scrollHeight!=d&&this.refresh(),c>=
h)return m!=(a=l[l.length-1])&&this.activate(a);if(m&&c<=f[0])return m!=(a=l[0])&&this.activate(a);for(a=f.length;a--;)m!=l[a]&&c>=f[a]&&(!f[a+1]||c<=f[a+1])&&this.activate(l[a])};c.prototype.activate=function(a){this.activeTarget=a;d(this.selector).parentsUntil(this.options.target,".active").removeClass("active");a=d(this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]').parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active"));
a.trigger("activate.bs.scrollspy")};var a=d.fn.scrollspy;d.fn.scrollspy=f;d.fn.scrollspy.Constructor=c;d.fn.scrollspy.noConflict=function(){return d.fn.scrollspy=a,this};d(window).on("load.bs.scrollspy.data-api",function(){d('[data-spy="scroll"]').each(function(){var a=d(this);f.call(a,a.data())})})}(jQuery);
+function(d){function c(a){return this.each(function(){var b=d(this),c=b.data("bs.tab");c||b.data("bs.tab",c=new f(this));"string"==typeof a&&c[a]()})}var f=function(a){this.element=d(a)};f.VERSION="3.2.0";f.prototype.show=function(){var a=this.element,c=a.closest("ul:not(.dropdown-menu)"),g=a.data("target");if(g||(g=a.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var h=c.find(".active:last a")[0],f=d.Event("show.bs.tab",{relatedTarget:h});(a.trigger(f),f.isDefaultPrevented())||
(g=d(g),this.activate(a.closest("li"),c),this.activate(g,g.parent(),function(){a.trigger({type:"shown.bs.tab",relatedTarget:h})}))}};f.prototype.activate=function(a,c,g){function b(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");a.addClass("active");f?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade");a.parent(".dropdown-menu")&&a.closest("li.dropdown").addClass("active");g&&g()}var e=c.find("> .active"),f=g&&d.support.transition&&e.hasClass("fade");f?e.one("bsTransitionEnd",
b).emulateTransitionEnd(150):b();e.removeClass("in")};var a=d.fn.tab;d.fn.tab=c;d.fn.tab.Constructor=f;d.fn.tab.noConflict=function(){return d.fn.tab=a,this};d(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(a){a.preventDefault();c.call(d(this),"show")})}(jQuery);
+function(d){function c(a){return this.each(function(){var b=d(this),c=b.data("bs.affix"),h="object"==typeof a&&a;c||b.data("bs.affix",c=new f(this,h));"string"==typeof a&&c[a]()})}var f=function(a,c){this.options=d.extend({},f.DEFAULTS,c);this.$target=d(this.options.target).on("scroll.bs.affix.data-api",d.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",d.proxy(this.checkPositionWithEventLoop,this));this.$element=d(a);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};
f.VERSION="3.2.0";f.RESET="affix affix-top affix-bottom";f.DEFAULTS={offset:0,target:window};f.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(f.RESET).addClass("affix");var a=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-a};f.prototype.checkPositionWithEventLoop=function(){setTimeout(d.proxy(this.checkPosition,this),1)};f.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=d(document).height(),
c=this.$target.scrollTop(),g=this.$element.offset(),h=this.options.offset,k=h.top,l=h.bottom;"object"!=typeof h&&(l=k=h);"function"==typeof k&&(k=h.top(this.$element));"function"==typeof l&&(l=h.bottom(this.$element));c=null!=this.unpin&&c+this.unpin<=g.top?!1:null!=l&&g.top+this.$element.height()>=a-l?"bottom":null!=k&&k>=c?"top":!1;this.affixed!==c&&(null!=this.unpin&&this.$element.css("top",""),g="affix"+(c?"-"+c:""),h=d.Event(g+".bs.affix"),this.$element.trigger(h),h.isDefaultPrevented()||(this.affixed=
c,this.unpin="bottom"==c?this.getPinnedOffset():null,this.$element.removeClass(f.RESET).addClass(g).trigger(d.Event(g.replace("affix","affixed"))),"bottom"==c&&this.$element.offset({top:a-this.$element.height()-l})))}};var a=d.fn.affix;d.fn.affix=c;d.fn.affix.Constructor=f;d.fn.affix.noConflict=function(){return d.fn.affix=a,this};d(window).on("load",function(){d('[data-spy="affix"]').each(function(){var a=d(this),e=a.data();e.offset=e.offset||{};e.offsetBottom&&(e.offset.bottom=e.offsetBottom);e.offsetTop&&
(e.offset.top=e.offsetTop);c.call(a,e)})})}(jQuery);
(function(d){d.extend(d.fn,{validate:function(c){if(!this.length)return c&&c.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var f=d.data(this[0],"validator");return f?f:(this.attr("novalidate","novalidate"),f=new d.validator(c,this[0]),d.data(this[0],"validator",f),f.settings.onsubmit&&(this.validateDelegate(":submit","click",function(a){f.settings.submitHandler&&(f.submitButton=a.target);d(a.target).hasClass("cancel")&&(f.cancelSubmit=!0);void 0!==
d(a.target).attr("formnovalidate")&&(f.cancelSubmit=!0)}),this.submit(function(a){function b(){var b;return f.settings.submitHandler?(f.submitButton&&(b=d("<input type='hidden'/>").attr("name",f.submitButton.name).val(d(f.submitButton).val()).appendTo(f.currentForm)),f.settings.submitHandler.call(f,f.currentForm,a),f.submitButton&&b.remove(),!1):!0}return f.settings.debug&&a.preventDefault(),f.cancelSubmit?(f.cancelSubmit=!1,b()):f.form()?f.pendingRequest?(f.formSubmitted=!0,!1):b():(f.focusInvalid(),
!1)})),f)},valid:function(){if(d(this[0]).is("form"))return this.validate().form();var c=!0,f=d(this[0].form).validate();return this.each(function(){c=c&&f.element(this)}),c},removeAttrs:function(c){var f={},a=this;return d.each(c.split(/\s/),function(b,c){f[c]=a.attr(c);a.removeAttr(c)}),f},rules:function(c,f){var a=this[0];if(c){var b=d.data(a.form,"validator").settings,e=b.rules,g=d.validator.staticRules(a);switch(c){case "add":d.extend(g,d.validator.normalizeRule(f));delete g.messages;e[a.name]=
g;f.messages&&(b.messages[a.name]=d.extend(b.messages[a.name],f.messages));break;case "remove":if(!f)return delete e[a.name],g;var h={};return d.each(f.split(/\s/),function(a,b){h[b]=g[b];delete g[b]}),h}}a=d.validator.normalizeRules(d.extend({},d.validator.classRules(a),d.validator.attributeRules(a),d.validator.dataRules(a),d.validator.staticRules(a)),a);a.required&&(b=a.required,delete a.required,a=d.extend({required:b},a));return a}});d.extend(d.expr[":"],{blank:function(c){return!d.trim(""+d(c).val())},
filled:function(c){return!!d.trim(""+d(c).val())},unchecked:function(c){return!d(c).prop("checked")}});d.validator=function(c,f){this.settings=d.extend(!0,{},d.validator.defaults,c);this.currentForm=f;this.init()};d.validator.format=function(c,f){return 1===arguments.length?function(){var a=d.makeArray(arguments);return a.unshift(c),d.validator.format.apply(this,a)}:(2<arguments.length&&f.constructor!==Array&&(f=d.makeArray(arguments).slice(1)),f.constructor!==Array&&(f=[f]),d.each(f,function(a,b){c=
c.replace(RegExp("\\{"+a+"\\}","g"),function(){return b})}),c)};d.extend(d.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:d([]),errorLabelContainer:d([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(c){this.lastActive=c;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,c,this.settings.errorClass,this.settings.validClass),
this.addWrapper(this.errorsFor(c)).hide())},onfocusout:function(c){this.checkable(c)||!(c.name in this.submitted)&&this.optional(c)||this.element(c)},onkeyup:function(c,d){(9!==d.which||""!==this.elementValue(c))&&(c.name in this.submitted||c===this.lastElement)&&this.element(c)},onclick:function(c){c.name in this.submitted?this.element(c):c.parentNode.name in this.submitted&&this.element(c.parentNode)},highlight:function(c,f,a){"radio"===c.type?this.findByName(c.name).addClass(f).removeClass(a):
d(c).addClass(f).removeClass(a)},unhighlight:function(c,f,a){"radio"===c.type?this.findByName(c.name).removeClass(f).addClass(a):d(c).removeClass(f).addClass(a)}},setDefaults:function(c){d.extend(d.validator.defaults,c)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",
creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:d.validator.format("Please enter no more than {0} characters."),minlength:d.validator.format("Please enter at least {0} characters."),rangelength:d.validator.format("Please enter a value between {0} and {1} characters long."),range:d.validator.format("Please enter a value between {0} and {1}."),max:d.validator.format("Please enter a value less than or equal to {0}."),min:d.validator.format("Please enter a value greater than or equal to {0}.")},
autoCreateRanges:!1,prototype:{init:function(){function c(a){var b=d.data(this[0].form,"validator"),c="on"+a.type.replace(/^validate/,"");b.settings[c]&&b.settings[c].call(b,this[0],a)}this.labelContainer=d(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||d(this.currentForm);this.containers=d(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid=
{};this.reset();var f=this.groups={};d.each(this.settings.groups,function(a,c){"string"==typeof c&&(c=c.split(/\s/));d.each(c,function(b,c){f[c]=a})});var a=this.settings.rules;d.each(a,function(b,c){a[b]=d.validator.normalizeRule(c)});d(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ",
"focusin focusout keyup",c).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",c);this.settings.invalidHandler&&d(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),d.extend(this.submitted,this.errorMap),this.invalid=d.extend({},this.errorMap),this.valid()||d(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var c=0,d=this.currentElements=
this.elements();d[c];c++)this.check(d[c]);return this.valid()},element:function(c){this.lastElement=c=this.validationTargetFor(this.clean(c));this.prepareElement(c);this.currentElements=d(c);var f=!1!==this.check(c);return f?delete this.invalid[c.name]:this.invalid[c.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),f},showErrors:function(c){if(c){d.extend(this.errorMap,c);this.errorList=[];for(var f in c)this.errorList.push({message:c[f],element:this.findByName(f)[0]});
this.successList=d.grep(this.successList,function(a){return!(a.name in c)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){d.fn.resetForm&&d(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(c){var d=
0,a;for(a in c)d++;return d},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{d(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(c){}},findLastActive:function(){var c=this.lastActive;return c&&1===d.grep(this.errorList,function(d){return d.element.name===c.name}).length&&
c},elements:function(){var c=this,f={};return d(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&c.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in f||!c.objectLength(d(this).rules())?!1:(f[this.name]=!0,!0)})},clean:function(c){return d(c)[0]},errors:function(){var c=this.settings.errorClass.replace(" ",".");return d(this.settings.errorElement+"."+c,
this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=d([]);this.toHide=d([]);this.currentElements=d([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(c){this.reset();this.toHide=this.errorsFor(c)},elementValue:function(c){var f=d(c).attr("type"),a=d(c).val();return"radio"===f||"checkbox"===f?d("input[name='"+d(c).attr("name")+"']:checked").val():"string"==typeof a?a.replace(/\r/g,""):
a},check:function(c){c=this.validationTargetFor(this.clean(c));var f,a=d(c).rules(),b=!1,e=this.elementValue(c),g;for(g in a){var h={method:g,parameters:a[g]};try{if(f=d.validator.methods[g].call(this,e,c,h.parameters),"dependency-mismatch"===f)b=!0;else{if(b=!1,"pending"===f)return this.toHide=this.toHide.not(this.errorsFor(c)),void 0;if(!f)return this.formatAndAdd(c,h),!1}}catch(k){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+c.id+", check the '"+
h.method+"' method.",k),k;}}return b?void 0:(this.objectLength(a)&&this.successList.push(c),!0)},customDataMessage:function(c,f){return d(c).data("msg-"+f.toLowerCase())||c.attributes&&d(c).attr("data-msg-"+f.toLowerCase())},customMessage:function(c,d){var a=this.settings.messages[c];return a&&(a.constructor===String?a:a[d])},findDefined:function(){for(var c=0;arguments.length>c;c++)if(void 0!==arguments[c])return arguments[c]},defaultMessage:function(c,f){return this.findDefined(this.customMessage(c.name,
f),this.customDataMessage(c,f),!this.settings.ignoreTitle&&c.title||void 0,d.validator.messages[f],"<strong>Warning: No message defined for "+c.name+"</strong>")},formatAndAdd:function(c,f){var a=this.defaultMessage(c,f.method),b=/\$?\{(\d+)\}/g;"function"==typeof a?a=a.call(this,f.parameters,c):b.test(a)&&(a=d.validator.format(a.replace(b,"{$1}"),f.parameters));this.errorList.push({message:a,element:c});this.errorMap[c.name]=a;this.submitted[c.name]=a},addWrapper:function(c){return this.settings.wrapper&&
(c=c.add(c.parent(this.settings.wrapper))),c},defaultShowErrors:function(){var c;for(c=0;this.errorList[c];c++){var d=this.errorList[c];this.settings.highlight&&this.settings.highlight.call(this,d.element,this.settings.errorClass,this.settings.validClass);this.showLabel(d.element,d.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(c=0;this.successList[c];c++)this.showLabel(this.successList[c]);if(this.settings.unhighlight)for(c=0,d=this.validElements();d[c];c++)this.settings.unhighlight.call(this,
d[c],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return d(this.errorList).map(function(){return this.element})},showLabel:function(c,f){var a=this.errorsFor(c);a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(f)):(a=d("<"+this.settings.errorElement+
">").attr("for",this.idOrName(c)).addClass(this.settings.errorClass).html(f||""),this.settings.wrapper&&(a=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(a).length||(this.settings.errorPlacement?this.settings.errorPlacement(a,d(c)):a.insertAfter(c)));!f&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,c));this.toShow=this.toShow.add(a)},errorsFor:function(c){var f=this.idOrName(c);
return this.errors().filter(function(){return d(this).attr("for")===f})},idOrName:function(c){return this.groups[c.name]||(this.checkable(c)?c.name:c.id||c.name)},validationTargetFor:function(c){return this.checkable(c)&&(c=this.findByName(c.name).not(this.settings.ignore)[0]),c},checkable:function(c){return/radio|checkbox/i.test(c.type)},findByName:function(c){return d(this.currentForm).find("[name='"+c+"']")},getLength:function(c,f){switch(f.nodeName.toLowerCase()){case "select":return d("option:selected",
f).length;case "input":if(this.checkable(f))return this.findByName(f.name).filter(":checked").length}return c.length},depend:function(c,d){return this.dependTypes[typeof c]?this.dependTypes[typeof c](c,d):!0},dependTypes:{"boolean":function(c){return c},string:function(c,f){return!!d(c,f.form).length},"function":function(c,d){return c(d)}},optional:function(c){var f=this.elementValue(c);return!d.validator.methods.required.call(this,f,c)&&"dependency-mismatch"},startRequest:function(c){this.pending[c.name]||
(this.pendingRequest++,this.pending[c.name]=!0)},stopRequest:function(c,f){this.pendingRequest--;0>this.pendingRequest&&(this.pendingRequest=0);delete this.pending[c.name];f&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(d(this.currentForm).submit(),this.formSubmitted=!1):!f&&0===this.pendingRequest&&this.formSubmitted&&(d(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(c){return d.data(c,"previousValue")||d.data(c,"previousValue",
{old:null,valid:!0,message:this.defaultMessage(c,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(c,f){c.constructor===String?this.classRuleSettings[c]=f:d.extend(this.classRuleSettings,c)},classRules:function(c){var f={};c=d(c).attr("class");return c&&d.each(c.split(" "),function(){this in d.validator.classRuleSettings&&d.extend(f,d.validator.classRuleSettings[this])}),
f},attributeRules:function(c){var f={};c=d(c);var a=c[0].getAttribute("type"),b;for(b in d.validator.methods){var e;"required"===b?(e=c.get(0).getAttribute(b),""===e&&(e=!0),e=!!e):e=c.attr(b);/min|max/.test(b)&&(null===a||/number|range|text/.test(a))&&(e=Number(e));e?f[b]=e:a===b&&"range"!==a&&(f[b]=!0)}return f.maxlength&&/-1|2147483647|524288/.test(f.maxlength)&&delete f.maxlength,f},dataRules:function(c){var f,a={},b=d(c);for(f in d.validator.methods)c=b.data("rule-"+f.toLowerCase()),void 0!==
c&&(a[f]=c);return a},staticRules:function(c){var f={},a=d.data(c.form,"validator");return a.settings.rules&&(f=d.validator.normalizeRule(a.settings.rules[c.name])||{}),f},normalizeRules:function(c,f){return d.each(c,function(a,b){if(!1===b)return delete c[a],void 0;if(b.param||b.depends){var e=!0;switch(typeof b.depends){case "string":e=!!d(b.depends,f.form).length;break;case "function":e=b.depends.call(f,f)}e?c[a]=void 0!==b.param?b.param:!0:delete c[a]}}),d.each(c,function(a,b){c[a]=d.isFunction(b)?
b(f):b}),d.each(["minlength","maxlength"],function(){c[this]&&(c[this]=Number(c[this]))}),d.each(["rangelength","range"],function(){var a;c[this]&&(d.isArray(c[this])?c[this]=[Number(c[this][0]),Number(c[this][1])]:"string"==typeof c[this]&&(a=c[this].split(/[\s,]+/),c[this]=[Number(a[0]),Number(a[1])]))}),d.validator.autoCreateRanges&&(c.min&&c.max&&(c.range=[c.min,c.max],delete c.min,delete c.max),c.minlength&&c.maxlength&&(c.rangelength=[c.minlength,c.maxlength],delete c.minlength,delete c.maxlength)),
c},normalizeRule:function(c){if("string"==typeof c){var f={};d.each(c.split(/\s/),function(){f[this]=!0});c=f}return c},addMethod:function(c,f,a){d.validator.methods[c]=f;d.validator.messages[c]=void 0!==a?a:d.validator.messages[c];3>f.length&&d.validator.addClassRules(c,d.validator.normalizeRule(c))},methods:{required:function(c,f,a){return this.depend(a,f)?"select"===f.nodeName.toLowerCase()?(c=d(f).val())&&0<c.length:this.checkable(f)?0<this.getLength(c,f):0<d.trim(c).length:"dependency-mismatch"},
email:function(c,d){return this.optional(d)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(c)},
url:function(c,d){return this.optional(d)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},
date:function(c,d){return this.optional(d)||!/Invalid|NaN/.test(""+new Date(c))},dateISO:function(c,d){return this.optional(d)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(c)},number:function(c,d){return this.optional(d)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(c)},digits:function(c,d){return this.optional(d)||/^\d+$/.test(c)},creditcard:function(c,d){if(this.optional(d))return"dependency-mismatch";if(/[^0-9 \-]+/.test(c))return!1;var a=0,b=!1;c=c.replace(/\D/g,"");for(var e=c.length-1;0<=e;e--){var g=
c.charAt(e);g=parseInt(g,10);b&&9<(g*=2)&&(g-=9);a+=g;b=!b}return 0===a%10},minlength:function(c,f,a){c=d.isArray(c)?c.length:this.getLength(d.trim(c),f);return this.optional(f)||c>=a},maxlength:function(c,f,a){c=d.isArray(c)?c.length:this.getLength(d.trim(c),f);return this.optional(f)||a>=c},rangelength:function(c,f,a){c=d.isArray(c)?c.length:this.getLength(d.trim(c),f);return this.optional(f)||c>=a[0]&&a[1]>=c},min:function(c,d,a){return this.optional(d)||c>=a},max:function(c,d,a){return this.optional(d)||
a>=c},range:function(c,d,a){return this.optional(d)||c>=a[0]&&a[1]>=c},equalTo:function(c,f,a){a=d(a);return this.settings.onfocusout&&a.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){d(f).valid()}),c===a.val()},remote:function(c,f,a){if(this.optional(f))return"dependency-mismatch";var b=this.previousValue(f);if(this.settings.messages[f.name]||(this.settings.messages[f.name]={}),b.originalMessage=this.settings.messages[f.name].remote,this.settings.messages[f.name].remote=b.message,
a="string"==typeof a&&{url:a}||a,b.old===c)return b.valid;b.old=c;var e=this;this.startRequest(f);var g={};return g[f.name]=c,d.ajax(d.extend(!0,{url:a,mode:"abort",port:"validate"+f.name,dataType:"json",data:g,success:function(a){e.settings.messages[f.name].remote=b.originalMessage;var h=!0===a||"true"===a;if(h){var g=e.formSubmitted;e.prepareElement(f);e.formSubmitted=g;e.successList.push(f);delete e.invalid[f.name];e.showErrors()}else g={},a=a||e.defaultMessage(f,"remote"),g[f.name]=b.message=
d.isFunction(a)?a(c):a,e.invalid[f.name]=!0,e.showErrors(g);b.valid=h;e.stopRequest(f,h)}},a)),"pending"}}});d.format=d.validator.format})(jQuery);(function(d){var c={};if(d.ajaxPrefilter)d.ajaxPrefilter(function(a,b,d){b=a.port;"abort"===a.mode&&(c[b]&&c[b].abort(),c[b]=d)});else{var f=d.ajax;d.ajax=function(a){var b=("port"in a?a:d.ajaxSettings).port;return"abort"===("mode"in a?a:d.ajaxSettings).mode?(c[b]&&c[b].abort(),c[b]=f.apply(this,arguments),c[b]):f.apply(this,arguments)}}})(jQuery);
(function(d){d.extend(d.fn,{validateDelegate:function(c,f,a){return this.bind(f,function(b){var e=d(b.target);return e.is(c)?a.apply(e,arguments):void 0})}})})(jQuery);
(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):d("undefined"!=typeof jQuery?jQuery:window.Zepto)})(function(d){function c(a){var b=a.data;a.isDefaultPrevented()||(a.preventDefault(),d(a.target).ajaxSubmit(b))}function f(a){var b=a.target,c=d(b);if(!c.is("[type=submit],[type=image]")){b=c.closest("[type=submit]");if(0===b.length)return;b=b[0]}var e=this;e.clk=b;"image"==b.type&&(void 0!==a.offsetX?(e.clk_x=a.offsetX,e.clk_y=a.offsetY):"function"==typeof d.fn.offset?(c=c.offset(),
e.clk_x=a.pageX-c.left,e.clk_y=a.pageY-c.top):(e.clk_x=a.pageX-b.offsetLeft,e.clk_y=a.pageY-b.offsetTop));setTimeout(function(){e.clk=e.clk_x=e.clk_y=null},100)}function a(){if(d.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}var b=void 0!==d("<input type='file'/>").get(0).files;var e=void 0!==window.FormData;var g=!!d.fn.prop;d.fn.attr2=function(){if(!g)return this.attr.apply(this,
arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"===typeof a?a:this.attr.apply(this,arguments)};d.fn.ajaxSubmit=function(c){function h(a){a=d.param(a,c.traditional).split("&");var b=a.length,e=[],g;for(g=0;g<b;g++){a[g]=a[g].replace(/\+/g," ");var h=a[g].split("=");e.push([decodeURIComponent(h[0]),decodeURIComponent(h[1])])}return e}function f(a){for(var b=new FormData,e=0;e<a.length;e++)b.append(a[e].name,a[e].value);if(c.extraData)for(a=h(c.extraData),e=0;e<a.length;e++)a[e]&&
b.append(a[e][0],a[e][1]);c.data=null;e=d.extend(!0,{},d.ajaxSettings,c,{contentType:!1,processData:!1,cache:!1,type:r||"POST"});c.uploadProgress&&(e.xhr=function(){var a=d.ajaxSettings.xhr();a.upload&&a.upload.addEventListener("progress",function(a){var b=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(b=Math.ceil(d/e*100));c.uploadProgress(a,d,e,b)},!1);return a});e.data=null;var g=e.beforeSend;e.beforeSend=function(a,d){d.data=c.formData?c.formData:b;g&&g.call(this,a,d)};return d.ajax(e)}
function m(b){function e(b){var c=null;try{b.contentWindow&&(c=b.contentWindow.document)}catch(V){a("cannot get iframe.contentWindow document: "+V)}if(c)return c;try{c=b.contentDocument?b.contentDocument:b.document}catch(V){a("cannot get iframe.contentDocument: "+V),c=b.document}return c}function h(){function b(){try{var c=e(A).readyState;a("state = "+c);c&&"uninitialized"==c.toLowerCase()&&setTimeout(b,50)}catch(Y){a("Server abort: ",Y," (",Y.name,")"),f(2),p&&clearTimeout(p),p=void 0}}var c=n.attr2("target"),
g=n.attr2("action"),h=n.attr("enctype")||n.attr("encoding")||"multipart/form-data";k.setAttribute("target",t);r&&!/post/i.test(r)||k.setAttribute("method","POST");g!=u.url&&k.setAttribute("action",u.url);u.skipEncodingOverride||r&&!/post/i.test(r)||n.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});u.timeout&&(p=setTimeout(function(){q=!0;f(1)},u.timeout));var l=[];try{if(u.extraData)for(var m in u.extraData)u.extraData.hasOwnProperty(m)&&(d.isPlainObject(u.extraData[m])&&u.extraData[m].hasOwnProperty("name")&&
u.extraData[m].hasOwnProperty("value")?l.push(d('<input type="hidden" name="'+u.extraData[m].name+'">').val(u.extraData[m].value).appendTo(k)[0]):l.push(d('<input type="hidden" name="'+m+'">').val(u.extraData[m]).appendTo(k)[0]));u.iframeTarget||w.appendTo("body");A.attachEvent?A.attachEvent("onload",f):A.addEventListener("load",f,!1);setTimeout(b,15);try{k.submit()}catch(W){document.createElement("form").submit.apply(k)}}finally{k.setAttribute("action",g),k.setAttribute("enctype",h),c?k.setAttribute("target",
c):n.removeAttr("target"),d(l).remove()}}function f(b){if(!x.aborted&&!F)if(B=e(A),B||(a("cannot access response document"),b=2),1===b&&x)x.abort("timeout"),y.reject(x,"timeout");else if(2==b&&x)x.abort("server abort"),y.reject(x,"error","server abort");else if(B&&B.location.href!=u.iframeSrc||q){A.detachEvent?A.detachEvent("onload",f):A.removeEventListener("load",f,!1);b="success";var c;try{if(q)throw"timeout";var g="xml"==u.dataType||B.XMLDocument||d.isXMLDoc(B);a("isXml="+g);if(!g&&window.opera&&
(null===B.body||!B.body.innerHTML)&&--K){a("requeing onLoad callback, DOM not available");setTimeout(f,250);return}var h=B.body?B.body:B.documentElement;x.responseText=h?h.innerHTML:null;x.responseXML=B.XMLDocument?B.XMLDocument:B;g&&(u.dataType="xml");x.getResponseHeader=function(a){return{"content-type":u.dataType}[a.toLowerCase()]};h&&(x.status=Number(h.getAttribute("status"))||x.status,x.statusText=h.getAttribute("statusText")||x.statusText);var k=(u.dataType||"").toLowerCase(),l=/(json|script|text)/.test(k);
if(l||u.textarea){var n=B.getElementsByTagName("textarea")[0];if(n)x.responseText=n.value,x.status=Number(n.getAttribute("status"))||x.status,x.statusText=n.getAttribute("statusText")||x.statusText;else if(l){var r=B.getElementsByTagName("pre")[0],v=B.getElementsByTagName("body")[0];r?x.responseText=r.textContent?r.textContent:r.innerText:v&&(x.responseText=v.textContent?v.textContent:v.innerText)}}else"xml"==k&&!x.responseXML&&x.responseText&&(x.responseXML=ea(x.responseText));try{C=P(x,k,u)}catch(aa){b=
"parsererror",x.error=c=aa||b}}catch(aa){a("error caught: ",aa),b="error",x.error=c=aa||b}x.aborted&&(a("upload aborted"),b=null);x.status&&(b=200<=x.status&&300>x.status||304===x.status?"success":"error");"success"===b?(u.success&&u.success.call(u.context,C,"success",x),y.resolve(x.responseText,"success",x),m&&d.event.trigger("ajaxSuccess",[x,u])):b&&(void 0===c&&(c=x.statusText),u.error&&u.error.call(u.context,x,b,c),y.reject(x,"error",c),m&&d.event.trigger("ajaxError",[x,u,c]));m&&d.event.trigger("ajaxComplete",
[x,u]);m&&!--d.active&&d.event.trigger("ajaxStop");u.complete&&u.complete.call(u.context,x,b);F=!0;u.timeout&&clearTimeout(p);setTimeout(function(){u.iframeTarget?w.attr("src",u.iframeSrc):w.remove();x.responseXML=null},100)}}var k=n[0],l,m,q,p,y=d.Deferred();y.abort=function(a){x.abort(a)};if(b)for(l=0;l<z.length;l++)b=d(z[l]),g?b.prop("disabled",!1):b.removeAttr("disabled");var u=d.extend(!0,{},d.ajaxSettings,c);u.context=u.context||u;var t="jqFormIO"+(new Date).getTime();if(u.iframeTarget){var w=
d(u.iframeTarget);(l=w.attr2("name"))?t=l:w.attr2("name",t)}else w=d('<iframe name="'+t+'" src="'+u.iframeSrc+'" />'),w.css({position:"absolute",top:"-1000px",left:"-1000px"});var A=w[0];var x={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c="timeout"===b?"timeout":"aborted";a("aborting upload... "+c);this.aborted=1;try{A.contentWindow.document.execCommand&&
A.contentWindow.document.execCommand("Stop")}catch(V){}w.attr("src",u.iframeSrc);x.error=c;u.error&&u.error.call(u.context,x,c,b);m&&d.event.trigger("ajaxError",[x,u,c]);u.complete&&u.complete.call(u.context,x,c)}};(m=u.global)&&0===d.active++&&d.event.trigger("ajaxStart");m&&d.event.trigger("ajaxSend",[x,u]);if(u.beforeSend&&!1===u.beforeSend.call(u.context,x,u))return u.global&&d.active--,y.reject(),y;if(x.aborted)return y.reject(),y;(b=k.clk)&&(l=b.name)&&!b.disabled&&(u.extraData=u.extraData||
{},u.extraData[l]=b.value,"image"==b.type&&(u.extraData[l+".x"]=k.clk_x,u.extraData[l+".y"]=k.clk_y));b=d("meta[name=csrf-token]").attr("content");(l=d("meta[name=csrf-param]").attr("content"))&&b&&(u.extraData=u.extraData||{},u.extraData[l]=b);u.forceSync?h():setTimeout(h,10);var C,B,K=50,F,ea=d.parseXML||function(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&"parsererror"!=
b.documentElement.nodeName?b:null},S=d.parseJSON||function(a){return window.eval("("+a+")")},P=function(a,b,c){var e=a.getResponseHeader("content-type")||"",g="xml"===b||!b&&0<=e.indexOf("xml");a=g?a.responseXML:a.responseText;g&&"parsererror"===a.documentElement.nodeName&&d.error&&d.error("parsererror");c&&c.dataFilter&&(a=c.dataFilter(a,b));"string"===typeof a&&("json"===b||!b&&0<=e.indexOf("json")?a=S(a):("script"===b||!b&&0<=e.indexOf("javascript"))&&d.globalEval(a));return a};return y}if(!this.length)return a("ajaxSubmit: skipping submit process - no element selected"),
this;var n=this;"function"==typeof c?c={success:c}:void 0===c&&(c={});var r=c.type||this.attr2("method");var p=c.url||this.attr2("action");(p=(p="string"===typeof p?d.trim(p):"")||window.location.href||"")&&(p=(p.match(/^([^#]+)/)||[])[1]);c=d.extend(!0,{url:p,success:d.ajaxSettings.success,type:r||d.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);p={};this.trigger("form-pre-serialize",[this,c,p]);if(p.veto)return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),
this;if(c.beforeSerialize&&!1===c.beforeSerialize(this,c))return a("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var y=c.traditional;void 0===y&&(y=d.ajaxSettings.traditional);var z=[],t=this.formToArray(c.semantic,z);if(c.data){c.extraData=c.data;var w=d.param(c.data,y)}if(c.beforeSubmit&&!1===c.beforeSubmit(t,this,c))return a("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[t,this,c,p]);if(p.veto)return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),
this;p=d.param(t,y);w&&(p=p?p+"&"+w:w);"GET"==c.type.toUpperCase()?(c.url+=(0<=c.url.indexOf("?")?"&":"?")+p,c.data=null):c.data=p;var F=[];c.resetForm&&F.push(function(){n.resetForm()});c.clearForm&&F.push(function(){n.clearForm(c.includeHidden)});if(!c.dataType&&c.target){var B=c.success||function(){};F.push(function(a){var b=c.replaceTarget?"replaceWith":"html";d(c.target)[b](a).each(B,arguments)})}else c.success&&F.push(c.success);c.success=function(a,b,d){for(var e=c.context||this,g=0,h=F.length;g<
h;g++)F[g].apply(e,[a,b,d||n,n])};if(c.error){var q=c.error;c.error=function(a,b,d){q.apply(c.context||this,[a,b,d,n])}}if(c.complete){var K=c.complete;c.complete=function(a,b){K.apply(c.context||this,[a,b,n])}}w=0<d("input[type=file]:enabled",this).filter(function(){return""!==d(this).val()}).length;p="multipart/form-data"==n.attr("enctype")||"multipart/form-data"==n.attr("encoding");y=b&&e;a("fileAPI :"+y);var A;!1!==c.iframe&&(c.iframe||(w||p)&&!y)?c.closeKeepAlive?d.get(c.closeKeepAlive,function(){A=
m(t)}):A=m(t):A=(w||p)&&y?f(t):d.ajax(c);n.removeData("jqxhr").data("jqxhr",A);for(w=0;w<z.length;w++)z[w]=null;this.trigger("form-submit-notify",[this,c]);return this};d.fn.ajaxForm=function(b){b=b||{};b.delegation=b.delegation&&d.isFunction(d.fn.on);if(!b.delegation&&0===this.length){var e=this.selector,g=this.context;if(!d.isReady&&e)return a("DOM not ready, queuing ajaxForm"),d(function(){d(e,g).ajaxForm(b)}),this;a("terminating; zero elements found by selector"+(d.isReady?"":" (DOM not ready)"));
return this}return b.delegation?(d(document).off("submit.form-plugin",this.selector,c).off("click.form-plugin",this.selector,f).on("submit.form-plugin",this.selector,b,c).on("click.form-plugin",this.selector,b,f),this):this.ajaxFormUnbind().bind("submit.form-plugin",b,c).bind("click.form-plugin",b,f)};d.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};d.fn.formToArray=function(a,c){var e=[];if(0===this.length)return e;var g=this[0],h=this.attr("id"),f=a?g.getElementsByTagName("*"):
g.elements;f&&!/MSIE [678]/.test(navigator.userAgent)&&(f=d(f).get());h&&(h=d(':input[form="'+h+'"]').get(),h.length&&(f=(f||[]).concat(h)));if(!f||!f.length)return e;var k,y;var z=0;for(y=f.length;z<y;z++){var t=f[z];if((h=t.name)&&!t.disabled)if(a&&g.clk&&"image"==t.type)g.clk==t&&(e.push({name:h,value:d(t).val(),type:t.type}),e.push({name:h+".x",value:g.clk_x},{name:h+".y",value:g.clk_y}));else if((k=d.fieldValue(t,!0))&&k.constructor==Array){c&&c.push(t);var w=0;for(t=k.length;w<t;w++)e.push({name:h,
value:k[w]})}else if(b&&"file"==t.type)if(c&&c.push(t),k=t.files,k.length)for(w=0;w<k.length;w++)e.push({name:h,value:k[w],type:t.type});else e.push({name:h,value:"",type:t.type});else null!==k&&"undefined"!=typeof k&&(c&&c.push(t),e.push({name:h,value:k,type:t.type,required:t.required}))}!a&&g.clk&&(f=d(g.clk),z=f[0],(h=z.name)&&!z.disabled&&"image"==z.type&&(e.push({name:h,value:f.val()}),e.push({name:h+".x",value:g.clk_x},{name:h+".y",value:g.clk_y})));return e};d.fn.formSerialize=function(a){return d.param(this.formToArray(a))};
d.fn.fieldSerialize=function(a){var b=[];this.each(function(){var c=this.name;if(c){var e=d.fieldValue(this,a);if(e&&e.constructor==Array)for(var g=0,h=e.length;g<h;g++)b.push({name:c,value:e[g]});else null!==e&&"undefined"!=typeof e&&b.push({name:this.name,value:e})}});return d.param(b)};d.fn.fieldValue=function(a){for(var b=[],c=0,e=this.length;c<e;c++){var g=d.fieldValue(this[c],a);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?d.merge(b,g):b.push(g))}return b};
d.fieldValue=function(a,b){var c=a.name,e=a.type,g=a.tagName.toLowerCase();void 0===b&&(b=!0);if(b&&(!c||a.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!a.checked||("submit"==e||"image"==e)&&a.form&&a.form.clk!=a||"select"==g&&-1==a.selectedIndex))return null;if("select"==g){var h=a.selectedIndex;if(0>h)return null;c=[];g=a.options;var f=(e="select-one"==e)?h+1:g.length;for(h=e?h:0;h<f;h++){var k=g[h];if(k.selected){var z=k.value;z||(z=k.attributes&&k.attributes.value&&!k.attributes.value.specified?
k.text:k.value);if(e)return z;c.push(z)}}return c}return d(a).val()};d.fn.clearForm=function(a){return this.each(function(){d("input,select,textarea",this).clearFields(a)})};d.fn.clearFields=d.fn.clearInputs=function(a){var b=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var c=this.type,e=this.tagName.toLowerCase();b.test(c)||"textarea"==e?this.value="":"checkbox"==c||"radio"==c?this.checked=!1:"select"==e?this.selectedIndex=
-1:"file"==c?/MSIE/.test(navigator.userAgent)?d(this).replaceWith(d(this).clone(!0)):d(this).val(""):a&&(!0===a&&/hidden/.test(c)||"string"==typeof a&&d(this).is(a))&&(this.value="")})};d.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};d.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=!a})};d.fn.selected=function(a){void 0===a&&(a=!0);return this.each(function(){var b=
this.type;"checkbox"==b||"radio"==b?this.checked=a:"option"==this.tagName.toLowerCase()&&(b=d(this).parent("select"),a&&b[0]&&"select-one"==b[0].type&&b.find("option").selected(!1),this.selected=a)})};d.fn.ajaxSubmit.debug=!1});
(function(d){"function"===typeof define&&define.amd?define(d):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=d():window.KvSortable=d()})(function(){function d(a,c){if(!a||!a.nodeType||1!==a.nodeType)throw"KvSortable: `el` must be HTMLElement, and not "+{}.toString.call(a);this.el=a;this.options=c=w({},c);a[S]=this;var d={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(a.nodeName)?"li":
">*",ghostClass:"kvsortable-ghost",chosenClass:"kvsortable-chosen",dragClass:"kvsortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(a,b){a.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"kvsortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}},e;for(e in d)e in c||(c[e]=d[e]);ka(c);for(var g in this)"_"===g.charAt(0)&&"function"===typeof this[g]&&(this[g]=
this[g].bind(this));this.nativeDraggable=c.forceFallback?!1:la;b(a,"mousedown",this._onTapStart);b(a,"touchstart",this._onTapStart);b(a,"pointerdown",this._onTapStart);this.nativeDraggable&&(b(a,"dragover",this),b(a,"dragenter",this));X.push(this._onDragOver);c.store&&this.sort(c.store.get(this))}function c(a,b){"clone"!==a.lastPullMode&&(b=!0);C&&C.state!==b&&(h(C,"display",b?"none":""),!b&&C.state&&(a.options.group.revertClone?(v.insertBefore(C,R),a._animate(q,C)):v.insertBefore(C,q)),C.state=b)}
function f(b,c,d){if(b){d=d||H;do if(">*"===c&&b.parentNode===d||z(b,c))return b;while(b=a(b))}return null}function a(a){var b=a.host;return b&&b.nodeType?b:a.parentNode}function b(a,b,c){a.addEventListener(b,c,ba)}function e(a,b,c){a.removeEventListener(b,c,ba)}function g(a,b,c){if(a)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(ia," ").replace(" "+b+" "," ");a.className=(d+(c?" "+b:"")).replace(ia," ")}}function h(a,b,c){var d=a&&a.style;if(d){if(void 0===
c)return H.defaultView&&H.defaultView.getComputedStyle?c=H.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in d||(b="-webkit-"+b);d[b]=c+("string"===typeof c?"":"px")}}function k(a,b,c){if(a){a=a.getElementsByTagName(b);b=0;var d=a.length;if(c)for(;b<d;b++)c(a[b],b);return a}return[]}function l(a,b,c,d,e,g,h){a=a||b[S];var f=H.createEvent("Event"),k=a.options,l="on"+c.charAt(0).toUpperCase()+c.substr(1);f.initEvent(c,!0,!0);f.to=b;f.from=e||b;f.item=d||b;
f.clone=C;f.oldIndex=g;f.newIndex=h;b.dispatchEvent(f);k[l]&&k[l].call(a,f)}function m(a,b,c,d,e,g,h){var f=a[S],k=f.options.onMove,l;var m=H.createEvent("Event");m.initEvent("move",!0,!0);m.to=b;m.from=a;m.dragged=c;m.draggedRect=d;m.related=e||b;m.relatedRect=g||b.getBoundingClientRect();a.dispatchEvent(m);k&&(l=k.call(f,m,h));return l}function n(a){a.draggable=!1}function r(){Y=!1}function p(a){a=a.tagName+a.className+a.src+a.href+a.textContent;for(var b=a.length,c=0;b--;)c+=a.charCodeAt(b);return c.toString(36)}
function y(a,b){var c=0;if(!a||!a.parentNode)return-1;for(;a&&(a=a.previousElementSibling);)"TEMPLATE"===a.nodeName.toUpperCase()||">*"!==b&&!z(a,b)||c++;return c}function z(a,b){if(a){b=b.split(".");var c=b.shift().toUpperCase(),d=new RegExp("\\s("+b.join("|")+")(?=\\s)","g");return(""===c||a.nodeName.toUpperCase()==c)&&(!b.length||((" "+a.className+" ").match(d)||[]).length==b.length)}return!1}function t(a,b){var c,d;return function(){void 0===c&&(c=arguments,d=this,setTimeout(function(){1===c.length?
a.call(d,c[0]):a.apply(d,c);c=void 0},b))}}function w(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function F(a){return V?V(a).clone(!0)[0]:fa&&fa.dom?fa.dom(a).cloneNode(!0):a.cloneNode(!0)}function B(a){a=a.getElementsByTagName("input");for(var b=a.length;b--;){var c=a[b];c.checked&&ha.push(c)}}if("undefined"==typeof window||!window.document)return function(){throw Error("KvSortable.js requires a window with a document");};var q,K,A,C,v,R,M,E,I,G,L,U,O,u,D,J,ca,x={},T,Q,
da,ia=/\s+/g,ea=/left|right|inline/,S="KvSortable"+(new Date).getTime(),P=window,H=P.document,ja=P.parseInt,V=P.jQuery||P.Zepto,fa=P.Polymer,ba=!1,la=!!("draggable"in H.createElement("div")),W=function(a){if(navigator.userAgent.match(/Trident.*rv[ :]?11\./))return!1;a=H.createElement("x");a.style.cssText="pointer-events:auto";return"auto"===a.style.pointerEvents}(),Y=!1,Z=Math.abs,aa=Math.min,ha=[],X=[],ma=t(function(a,b,c){if(c&&b.scroll){var d=c[S],e=b.scrollSensitivity,g=b.scrollSpeed,h=a.clientX,
f=a.clientY,k=window.innerWidth,l=window.innerHeight,m,q;if(I!==c&&(E=b.scroll,I=c,G=b.scrollFn,!0===E)){E=c;do if(E.offsetWidth<E.scrollWidth||E.offsetHeight<E.scrollHeight)break;while(E=E.parentNode)}if(E){var n=E;b=E.getBoundingClientRect();var N=(Z(b.right-h)<=e)-(Z(b.left-h)<=e);var p=(Z(b.bottom-f)<=e)-(Z(b.top-f)<=e)}N||p||(N=(k-h<=e)-(h<=e),p=(l-f<=e)-(f<=e),(N||p)&&(n=P));if(x.vx!==N||x.vy!==p||x.el!==n)x.el=n,x.vx=N,x.vy=p,clearInterval(x.pid),n&&(x.pid=setInterval(function(){q=p?p*g:0;
m=N?N*g:0;if("function"===typeof G)return G.call(d,m,q,a);n===P?P.scrollTo(P.pageXOffset+m,P.pageYOffset+q):(n.scrollTop+=q,n.scrollLeft+=m)},24))}},30),ka=function(a){function b(a,b){if(void 0===a||!0===a)a=c.name;return"function"===typeof a?a:function(c,d){var e=d.options.group.name;return b?a:a&&(a.join?-1<a.indexOf(e):e==a)}}var c={},d=a.group;d&&"object"==typeof d||(d={name:d});c.name=d.name;c.checkPull=b(d.pull,!0);c.checkPut=b(d.put);c.revertClone=d.revertClone;a.group=c};d.prototype={constructor:d,
_onTapStart:function(a){var b=this,c=this.el,d=this.options,e=d.preventOnFilter,g=a.type,h=a.touches&&a.touches[0],k=(h||a).target,m=a.target.shadowRoot&&a.path[0]||k,n=d.filter;B(c);if(!(q||"mousedown"===g&&0!==a.button||d.disabled)&&(k=f(k,d.draggable,c))&&M!==k){var p=y(k,d.draggable);if("function"===typeof n){if(n.call(this,a,k,this)){l(b,m,"filter",k,c,p);e&&a.preventDefault();return}}else if(n&&(n=n.split(",").some(function(a){if(a=f(m,a.trim(),c))return l(b,a,"filter",k,c,p),!0}))){e&&a.preventDefault();
return}d.handle&&!f(m,d.handle,c)||this._prepareDragStart(a,h,k,p)}},_prepareDragStart:function(a,c,d,e){var h=this,f=h.el,m=h.options,p=f.ownerDocument;d&&!q&&d.parentNode===f&&(T=a,v=f,q=d,K=q.parentNode,R=q.nextSibling,M=d,J=m.group,u=e,this._lastX=(c||a).clientX,this._lastY=(c||a).clientY,q.style["will-change"]="transform",d=function(){h._disableDelayedDrag();q.draggable=h.nativeDraggable;g(q,m.chosenClass,!0);h._triggerDragStart(a,c);l(h,v,"choose",q,v,u)},m.ignore.split(",").forEach(function(a){k(q,
a.trim(),n)}),b(p,"mouseup",h._onDrop),b(p,"touchend",h._onDrop),b(p,"touchcancel",h._onDrop),b(p,"pointercancel",h._onDrop),b(p,"selectstart",h),m.delay?(b(p,"mouseup",h._disableDelayedDrag),b(p,"touchend",h._disableDelayedDrag),b(p,"touchcancel",h._disableDelayedDrag),b(p,"mousemove",h._disableDelayedDrag),b(p,"touchmove",h._disableDelayedDrag),b(p,"pointermove",h._disableDelayedDrag),h._dragStartTimer=setTimeout(d,m.delay)):d())},_disableDelayedDrag:function(){var a=this.el.ownerDocument;clearTimeout(this._dragStartTimer);
e(a,"mouseup",this._disableDelayedDrag);e(a,"touchend",this._disableDelayedDrag);e(a,"touchcancel",this._disableDelayedDrag);e(a,"mousemove",this._disableDelayedDrag);e(a,"touchmove",this._disableDelayedDrag);e(a,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(a,c){(c=c||("touch"==a.pointerType?a:null))?(T={target:q,clientX:c.clientX,clientY:c.clientY},this._onDragStart(T,"touch")):this.nativeDraggable?(b(q,"dragend",this),b(v,"dragstart",this._onDragStart)):this._onDragStart(T,
!0);try{H.selection?setTimeout(function(){H.selection.empty()}):window.getSelection().removeAllRanges()}catch(na){}},_dragStarted:function(){if(v&&q){var a=this.options;g(q,a.ghostClass,!0);g(q,a.dragClass,!1);d.active=this;l(this,v,"start",q,v,u)}else this._nulling()},_emulateDragOver:function(){if(Q&&(this._lastX!==Q.clientX||this._lastY!==Q.clientY)){this._lastX=Q.clientX;this._lastY=Q.clientY;W||h(A,"display","none");var a=H.elementFromPoint(Q.clientX,Q.clientY),b=a,c=X.length;if(b){do{if(b[S]){for(;c--;)X[c]({clientX:Q.clientX,
clientY:Q.clientY,target:a,rootEl:b});break}a=b}while(b=b.parentNode)}W||h(A,"display","")}},_onTouchMove:function(a){if(T){var b=this.options,c=b.fallbackTolerance,e=b.fallbackOffset;b=a.touches?a.touches[0]:a;var g=b.clientX-T.clientX+e.x;e=b.clientY-T.clientY+e.y;g=a.touches?"translate3d("+g+"px,"+e+"px,0)":"translate("+g+"px,"+e+"px)";if(!d.active){if(c&&aa(Z(b.clientX-this._lastX),Z(b.clientY-this._lastY))<c)return;this._dragStarted()}this._appendGhost();da=!0;Q=b;h(A,"webkitTransform",g);h(A,
"mozTransform",g);h(A,"msTransform",g);h(A,"transform",g);a.preventDefault()}},_appendGhost:function(){if(!A){var a=q.getBoundingClientRect(),b=h(q),c=this.options;A=q.cloneNode(!0);g(A,c.ghostClass,!1);g(A,c.fallbackClass,!0);g(A,c.dragClass,!0);h(A,"top",a.top-ja(b.marginTop,10));h(A,"left",a.left-ja(b.marginLeft,10));h(A,"width",a.width);h(A,"height",a.height);h(A,"opacity","0.8");h(A,"position","fixed");h(A,"zIndex","100000");h(A,"pointerEvents","none");c.fallbackOnBody&&H.body.appendChild(A)||
v.appendChild(A);b=A.getBoundingClientRect();h(A,"width",2*a.width-b.width);h(A,"height",2*a.height-b.height)}},_onDragStart:function(a,c){var d=a.dataTransfer,e=this.options;this._offUpEvents();J.checkPull(this,this,q,a)&&(C=F(q),C.draggable=!1,C.style["will-change"]="",h(C,"display","none"),g(C,this.options.chosenClass,!1),v.insertBefore(C,q),l(this,v,"clone",q));g(q,e.dragClass,!0);c?("touch"===c?(b(H,"touchmove",this._onTouchMove),b(H,"touchend",this._onDrop),b(H,"touchcancel",this._onDrop),b(H,
"pointermove",this._onTouchMove),b(H,"pointerup",this._onDrop)):(b(H,"mousemove",this._onTouchMove),b(H,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(d&&(d.effectAllowed="move",e.setData&&e.setData.call(this,d,q)),b(H,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(a){var b=this.el,e;var g=this.options;var k=g.group;var l=d.active,n=J===k,p=!1,y=g.sort;void 0!==a.preventDefault&&(a.preventDefault(),!g.dragoverBubble&&a.stopPropagation());if(!q.animated&&
(da=!0,l&&!g.disabled&&(n?y||(e=!v.contains(q)):ca===this||(l.lastPullMode=J.checkPull(this,l,q,a))&&k.checkPut(this,l,q,a))&&(void 0===a.rootEl||a.rootEl===this.el)&&(ma(a,g,this.el),!Y)))if(k=f(a.target,g.draggable,b),g=q.getBoundingClientRect(),ca!==this&&(ca=this,p=!0),e)c(l,!0),K=v,C||R?v.insertBefore(q,C||R):y||v.appendChild(q);else if(!(e=0===b.children.length||b.children[0]===A)&&(e=b===a.target)&&(k=b.lastElementChild,e=k.getBoundingClientRect(),e=k=(5<a.clientY-(e.top+e.height)||5<a.clientX-
(e.right+e.width))&&k),e){if(k){if(k.animated)return;var t=k.getBoundingClientRect()}c(l,n);!1!==m(v,b,q,g,k,t,a)&&(q.contains(b)||(b.appendChild(q),K=b),this._animate(g,q),k&&this._animate(t,k))}else if(k&&!k.animated&&k!==q&&void 0!==k.parentNode[S]){L!==k&&(L=k,U=h(k),O=h(k.parentNode));t=k.getBoundingClientRect();var w=t.right-t.left;e=t.bottom-t.top;var u=ea.test(U.cssFloat+U.display)||"flex"==O.display&&0===O["flex-direction"].indexOf("row");y=k.offsetWidth>q.offsetWidth;var x=k.offsetHeight>
q.offsetHeight;w=.5<(u?(a.clientX-t.left)/w:(a.clientY-t.top)/e);var B=k.nextElementSibling,z=m(v,b,q,g,k,t,a),N=!1;!1!==z&&(Y=!0,setTimeout(r,30),c(l,n),1===z||-1===z?N=1===z:u?(l=q.offsetTop,n=k.offsetTop,N=l===n?k.previousElementSibling===q&&!y||w&&y:k.previousElementSibling===q||q.previousElementSibling===k?.5<(a.clientY-t.top)/e:n>l):p||(N=B!==q&&!x||w&&x),q.contains(b)||(N&&!B?b.appendChild(q):k.parentNode.insertBefore(q,N?B:k)),K=q.parentNode,this._animate(g,q),this._animate(t,k))}},_animate:function(a,
b){var c=this.options.animation;if(c){var d=b.getBoundingClientRect();1===a.nodeType&&(a=a.getBoundingClientRect());h(b,"transition","none");h(b,"transform","translate3d("+(a.left-d.left)+"px,"+(a.top-d.top)+"px,0)");b.offsetWidth;h(b,"transition","all "+c+"ms");h(b,"transform","translate3d(0,0,0)");clearTimeout(b.animated);b.animated=setTimeout(function(){h(b,"transition","");h(b,"transform","");b.animated=!1},c)}},_offUpEvents:function(){var a=this.el.ownerDocument;e(H,"touchmove",this._onTouchMove);
e(H,"pointermove",this._onTouchMove);e(a,"mouseup",this._onDrop);e(a,"touchend",this._onDrop);e(a,"pointerup",this._onDrop);e(a,"touchcancel",this._onDrop);e(a,"selectstart",this)},_onDrop:function(a){var b=this.el,c=this.options;clearInterval(this._loopId);clearInterval(x.pid);clearTimeout(this._dragStartTimer);e(H,"mousemove",this._onTouchMove);this.nativeDraggable&&(e(H,"drop",this),e(b,"dragstart",this._onDragStart));this._offUpEvents();if(a&&(da&&(a.preventDefault(),!c.dropBubble&&a.stopPropagation()),
A&&A.parentNode.removeChild(A),(v===K||"clone"!==d.active.lastPullMode)&&C&&C.parentNode.removeChild(C),q&&(this.nativeDraggable&&e(q,"dragend",this),n(q),q.style["will-change"]="",g(q,this.options.ghostClass,!1),g(q,this.options.chosenClass,!1),v!==K?(D=y(q,c.draggable),0<=D&&(l(null,K,"add",q,v,u,D),l(this,v,"remove",q,v,u,D),l(null,K,"sort",q,v,u,D),l(this,v,"sort",q,v,u,D))):q.nextSibling!==R&&(D=y(q,c.draggable),0<=D&&(l(this,v,"update",q,v,u,D),l(this,v,"sort",q,v,u,D))),d.active))){if(null==
D||-1===D)D=u;l(this,v,"end",q,v,u,D);this.save()}this._nulling()},_nulling:function(){v=q=K=A=R=C=M=E=I=T=Q=da=D=L=U=ca=J=d.active=null;ha.forEach(function(a){a.checked=!0});ha.length=0},handleEvent:function(a){switch(a.type){case "drop":case "dragend":this._onDrop(a);break;case "dragover":case "dragenter":q&&(this._onDragOver(a),a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.preventDefault());break;case "selectstart":a.preventDefault()}},toArray:function(){for(var a=[],b,c=this.el.children,
d=0,e=c.length,g=this.options;d<e;d++)b=c[d],f(b,g.draggable,this.el)&&a.push(b.getAttribute(g.dataIdAttr)||p(b));return a},sort:function(a){var b={},c=this.el;this.toArray().forEach(function(a,d){var e=c.children[d];f(e,this.options.draggable,c)&&(b[a]=e)},this);a.forEach(function(a){b[a]&&(c.removeChild(b[a]),c.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set(this)},closest:function(a,b){return f(a,b||this.options.draggable,this.el)},option:function(a,b){var c=this.options;
if(void 0===b)return c[a];c[a]=b;"group"===a&&ka(c)},destroy:function(){var a=this.el;a[S]=null;e(a,"mousedown",this._onTapStart);e(a,"touchstart",this._onTapStart);e(a,"pointerdown",this._onTapStart);this.nativeDraggable&&(e(a,"dragover",this),e(a,"dragenter",this));Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")});X.splice(X.indexOf(this._onDragOver),1);this._onDrop();this.el=a=null}};b(H,"touchmove",function(a){d.active&&a.preventDefault()});
try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){ba={capture:!1,passive:!1}}}))}catch(N){}d.utils={on:b,off:e,css:h,find:k,is:function(a,b){return!!f(a,b,a)},extend:w,throttle:t,closest:f,toggleClass:g,clone:F,index:y};d.create=function(a,b){return new d(a,b)};d.version="1.5.1";return d});
(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):d(jQuery)})(function(d){d.fn.kvsortable=function(c){var f,a=arguments;this.each(function(){var b=d(this),e=b.data("kvsortable");e||!(c instanceof Object)&&c||(e=new KvSortable(this,c),b.data("kvsortable",e));e&&("widget"===c?f=e:"destroy"===c?(e.destroy(),b.removeData("kvsortable")):"function"===typeof e[c]?f=e[c].apply(e,[].slice.call(a,1)):c in e.options&&(f=e.option.apply(e,a)))});return void 0===f?this:f}});
$(function(){$(".file-preview").hide();$(".input-group-btn").on("click",function(){$(".file-preview").show()})});
(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof module&&module.exports?module.exports=d(require("jquery")):d(window.jQuery)})(function(d){d.fn.fileinputLocales={};d.fn.fileinputThemes={};var c={FRAMES:".kv-preview-thumb",SORT_CSS:"file-sortable",STYLE_SETTING:'style="width:{width};height:{height};"',OBJECT_PARAMS:'<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n',DEFAULT_PREVIEW:'<div class="file-preview-other" style="display="none">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',
MODAL_ID:"kvFileinputModal",MODAL_EVENTS:["show","shown","hide","hidden","loaded"],objUrl:window.URL||window.webkitURL,compare:function(a,b,c){return void 0!==a&&(c?a===b:a.match(b))},isIE:function(a){if("Microsoft Internet Explorer"!==navigator.appName)return!1;if(10===a)return(new RegExp("msie\\s"+a,"i")).test(navigator.userAgent);var b=document.createElement("div");b.innerHTML="\x3c!--[if IE "+a+"]> <i></i> <![endif]--\x3e";a=b.getElementsByTagName("i").length;document.body.appendChild(b);b.parentNode.removeChild(b);
return a},initModal:function(a){var b=d("body");b.length&&a.appendTo(b)},isEmpty:function(a,b){return void 0===a||null===a||0===a.length||b&&""===d.trim(a)},isArray:function(a){return Array.isArray(a)||"[object Array]"===Object.prototype.toString.call(a)},ifSet:function(a,b,c){return b&&"object"===typeof b&&a in b?b[a]:c||""},cleanArray:function(a){a instanceof Array||(a=[]);return a.filter(function(a){return void 0!==a&&null!==a})},spliceArray:function(a,b){var c,d=0,h=[];if(!(a instanceof Array))return[];
for(c=0;c<a.length;c++)c!==b&&(h[d]=a[c],d++);return h},getNum:function(a,b){b=b||0;if("number"===typeof a)return a;"string"===typeof a&&(a=parseFloat(a));return isNaN(a)?b:a},hasFileAPISupport:function(){return!(!window.File||!window.FileReader)},hasDragDropSupport:function(){var a=document.createElement("div");return!c.isIE(9)&&(void 0!==a.draggable||void 0!==a.ondragstart&&void 0!==a.ondrop)},hasFileUploadSupport:function(){return c.hasFileAPISupport()&&window.FormData},addCss:function(a,b){a.removeClass(b).addClass(b)},
getElement:function(a,b,e){return c.isEmpty(a)||c.isEmpty(a[b])?e:d(a[b])},uniqId:function(){return Math.round((new Date).getTime()+100*Math.random())},htmlEncode:function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags:function(a,b){var c=a;if(!b)return c;d.each(b,function(a,b){"function"===typeof b&&(b=b());c=c.split(a).join(b)});return c},cleanMemory:function(a){a=a.is("img")?a.attr("src"):a.find("source").attr("src");
c.objUrl.revokeObjectURL(a)},findFileName:function(a){var b=a.lastIndexOf("/");-1===b&&(b=a.lastIndexOf("\\"));return a.split(a.substring(b,b+1)).pop()},checkFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},toggleFullScreen:function(a){var b=document,d=b.documentElement;d&&a&&!c.checkFullScreen()?d.requestFullscreen?d.requestFullscreen():d.msRequestFullscreen?d.msRequestFullscreen():d.mozRequestFullScreen?
d.mozRequestFullScreen():d.webkitRequestFullscreen&&d.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):b.exitFullscreen?b.exitFullscreen():b.msExitFullscreen?b.msExitFullscreen():b.mozCancelFullScreen?b.mozCancelFullScreen():b.webkitExitFullscreen&&b.webkitExitFullscreen()},moveArray:function(a,b,c){if(c>=a.length)for(var d=c-a.length;d--+1;)a.push(void 0);a.splice(c,0,a.splice(b,1)[0]);return a},cleanZoomCache:function(a){var b=a.closest(".kv-zoom-cache-theme");b.length||(b=a.closest(".kv-zoom-cache"));
b.remove()}};var f=function(a,b){this.$element=d(a);this._validate()&&(this.isPreviewable=c.hasFileAPISupport(),this.isIE9=c.isIE(9),this.isIE10=c.isIE(10),this.isPreviewable||this.isIE9?(this._init(b),this._listen()):this.$element.removeClass("file-loading"))};f.prototype={constructor:f,_init:function(a){var b=this,e=b.$element;b.options=a;d.each(a,function(a,d){switch(a){case "minFileCount":case "maxFileCount":case "maxFileSize":b[a]=c.getNum(d);break;default:b[a]=d}});b.$form=e.closest("form");
b._initTemplateDefaults();b.fileInputCleared=!1;b.fileBatchCompleted=!0;b.isPreviewable||(b.showPreview=!1);b.uploadFileAttr=c.isEmpty(e.attr("name"))?"file_data":e.attr("name");b.reader=null;b.formdata={};b.clearStack();b.uploadCount=0;b.uploadStatus={};b.uploadLog=[];b.uploadAsyncCount=0;b.loadedImages=[];b.totalImagesCount=0;b.ajaxRequests=[];b.isError=!1;b.ajaxAborted=!1;b.cancelling=!1;var g=b._getLayoutTemplate("progress");b.progressTemplate=g.replace("{class}",b.progressClass);b.progressCompleteTemplate=
g.replace("{class}",b.progressCompleteClass);b.progressErrorTemplate=g.replace("{class}",b.progressErrorClass);b.dropZoneEnabled=c.hasDragDropSupport()&&b.dropZoneEnabled;b.isDisabled=e.attr("disabled")||e.attr("readonly");b.isUploadable=c.hasFileUploadSupport()&&!c.isEmpty(b.uploadUrl);b.isClickable=b.browseOnZoneClick&&b.showPreview&&(b.isUploadable&&b.dropZoneEnabled||!c.isEmpty(b.defaultPreviewContent));b.slug="function"===typeof a.slugCallback?a.slugCallback:b._slugDefault;b.mainTemplate=b.showCaption?
b._getLayoutTemplate("main1"):b._getLayoutTemplate("main2");b.captionTemplate=b._getLayoutTemplate("caption");b.previewGenericTemplate=b._getPreviewTemplate("generic");b.resizeImage&&(b.maxImageWidth||b.maxImageHeight)&&(b.imageCanvas=document.createElement("canvas"),b.imageCanvasContext=b.imageCanvas.getContext("2d"));c.isEmpty(e.attr("id"))&&e.attr("id",c.uniqId());b.namespace=".fileinput_"+e.attr("id").replace(/-/g,"_");void 0===b.$container?b.$container=b._createContainer():b._refreshContainer();
g=b.$container;b.$dropZone=g.find(".file-drop-zone");b.$progress=g.find(".kv-upload-progress");b.$btnUpload=g.find(".fileinput-upload");b.$captionContainer=c.getElement(a,"elCaptionContainer",g.find(".file-caption"));b.$caption=c.getElement(a,"elCaptionText",g.find(".file-caption-name"));b.$previewContainer=c.getElement(a,"elPreviewContainer",g.find(".file-preview"));b.$preview=c.getElement(a,"elPreviewImage",g.find(".file-preview-thumbnails"));b.$previewStatus=c.getElement(a,"elPreviewStatus",g.find(".file-preview-status"));
b.$errorContainer=c.getElement(a,"elErrorContainer",b.$previewContainer.find(".kv-fileinput-error"));c.isEmpty(b.msgErrorClass)||c.addCss(b.$errorContainer,b.msgErrorClass);b.$errorContainer.hide();b.previewInitId="preview-"+c.uniqId();b._initPreviewCache();b._initPreview(!0);b._initPreviewActions();b._setFileDropZoneTitle();e.removeClass("file-loading");e.attr("disabled")&&b.disable();b._initZoom()},_initTemplateDefaults:function(){var a=this;var b='<div id="'+c.MODAL_ID+'" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="'+
c.MODAL_ID+'Label"></div>';"   \n";'    </div>\n    <div class="clearfix"></div>\n</div>';var e='<div class="kv-preview-data file-preview-html" title="{caption}" '+c.STYLE_SETTING+">{data}</div>\n";var g='<img src="{data}" class="file-preview-image kv-preview-data" title="{caption}" alt="{caption}" '+c.STYLE_SETTING+">\n";var h='<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly '+c.STYLE_SETTING+">{data}</textarea>\n";var f='<video class="kv-preview-data file-preview-video" width="{width}" height="{height}" controls>\n<source src="{data}" type="{type}">\n'+
c.DEFAULT_PREVIEW+"\n</video>\n";a.defaults={layoutTemplates:{main1:'{preview}\n<div class="kv-upload-progress hide"></div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   </div>\n</div>',main2:'{preview}\n<div class="kv-upload-progress hide"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',preview:'<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',
close:"<div></div>\n",fileIcon:'<i class="glyphicon glyphicon-file kv-caption-icon"></i>',caption:'<div tabindex="500" class="form-control file-caption {class}">\n</div>\n',modalMain:b,modal:'<div class="modal-dialog modal-lg" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <div class="kv-zoom-actions pull-right">{toggleheader}{fullscreen}{borderless}{close}</div>\n      <h3 class="modal-title">{heading} <small><span class="kv-zoom-title"></span></small></h3>\n    </div>\n    <div class="modal-body">\n      <div class="floating-buttons"></div>\n      <div class="kv-zoom-body file-zoom-content"></div>\n{prev} {next}\n    </div>\n  </div>\n</div>\n',
progress:'<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {status}\n     </div>\n</div>',size:" <samp>({sizeText})</samp>",footer:'<div class="file-thumbnail-footer"> <div class="remove-  "> <i class="fa fa-trash" aria-hidden="true"></i></div>\n    <div class="file-footer-caption" title="{caption}">{caption}<br>{size}</div>  \n    {progress} {actions}\n</div>',actions:'<div></div>\n{drag}\n<div class="file-actions">\n    <div class="file-footer-buttons">\n',
actionDelete:'<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',actionUpload:'<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}</button>',actionZoom:'<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}</button>',actionDrag:'<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>',btnDefault:'<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</button>',
btnLink:'<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>',btnBrowse:'<div tabindex="500" class="{css}" {status}>{icon} {label}</div>',zoomCache:'<div class="kv-zoom-cache" style="display:none">{zoomContent}</div>'},previewMarkupTags:{tagBefore1:'  <div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"> <div class="kv-file-content">\n',tagBefore2:'  <div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}" title="{caption}"><div class="kv-file-content">\n',
tagAfter:"</div>{footer}\n</div> \n"},previewContentTemplates:{generic:"{content}\n",html:e,image:g,text:h,video:f,audio:'<div class="file-preview-audio"><audio class="kv-preview-data" controls>\n<source src="{data}" type="{type}">\n'+c.DEFAULT_PREVIEW+"\n</audio></div>\n",flash:'<object class="kv-preview-data file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n'+c.OBJECT_PARAMS+" "+c.DEFAULT_PREVIEW+"\n</object>\n",object:'<object class="kv-preview-data file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n<param name="movie" value="{caption}" />\n'+
c.OBJECT_PARAMS+" "+c.DEFAULT_PREVIEW+"\n</object>\n",pdf:'<embed class="kv-preview-data" src="{data}" width="{width}" height="{height}" type="application/pdf">\n',other:'<div class="kv-preview-data file-preview-other-frame">\n'+c.DEFAULT_PREVIEW+"\n</div>\n"},allowedPreviewTypes:"image html text video audio flash pdf object".split(" "),previewTemplates:{},previewSettings:{image:{width:"100px",height:"100px"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},video:{width:"213px",
height:"160px"},audio:{width:"213px",height:"80px"},flash:{width:"213px",height:"160px"},object:{width:"160px",height:"auto"},pdf:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}},previewZoomSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"100%",height:"100%","min-height":"480px"},text:{width:"100%",height:"100%","min-height":"480px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",
height:"480px"},object:{width:"auto",height:"100%","min-height":"480px"},pdf:{width:"100%",height:"100%","min-height":"480px"},other:{width:"auto",height:"100%","min-height":"480px"}},fileTypeSettings:{image:function(a,b){return c.compare(a,"image.*")||c.compare(b,/\.(gif|png|jpe?g)$/i)},html:function(a,b){return c.compare(a,"text/html")||c.compare(b,/\.(htm|html)$/i)},text:function(a,b){return c.compare(a,"text.*")||c.compare(b,/\.(xml|javascript)$/i)||c.compare(b,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},
video:function(a,b){return c.compare(a,"video.*")&&(c.compare(a,/(ogg|mp4|mp?g|mov|webm|3gp|avi)$/i)||c.compare(b,/\.(og?|mp4|webm|mp?g|mov|3gp|avi)$/i))},audio:function(a,b){return c.compare(a,"audio.*")&&(c.compare(b,/(ogg|mp3|mp?g|wav)$/i)||c.compare(b,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(a,b){return c.compare(a,"application/x-shockwave-flash",!0)||c.compare(b,/\.(swf)$/i)},pdf:function(a,b){return c.compare(a,"application/pdf",!0)||c.compare(b,/\.(pdf)$/i)},object:function(){return!0},other:function(){return!0}},
fileActionSettings:{showRemove:!0,showUpload:!0,showZoom:!0,showDrag:!0,removeIcon:'<i class="fa fa-trash" aria-hidden="true"></i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload text-info"></i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",zoomIcon:'<i class="fa fa-trash" aria-hidden="true"></i>',zoomClass:"btn btn-xs btn-default",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-menu-hamburger"></i>',
dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."}};d.each(a.defaults,function(b,c){"allowedPreviewTypes"===b?
void 0===a.allowedPreviewTypes&&(a.allowedPreviewTypes=c):a[b]=d.extend(!0,{},c,a[b])});a._initPreviewTemplates()},_initPreviewTemplates:function(){var a=this,b=a.previewMarkupTags,e,g=b.tagAfter;d.each(a.defaults.previewContentTemplates,function(d,f){if(c.isEmpty(a.previewTemplates[d])){e=b.tagBefore2;if("generic"===d||"image"===d||"html"===d||"text"===d)e=b.tagBefore1;a.previewTemplates[d]=e+f+g}})},_initPreviewCache:function(){var a=this;a.previewCache={data:{},init:function(){var b=a.initialPreview;
0<b.length&&!c.isArray(b)&&(b=b.split(a.initialPreviewDelimiter));a.previewCache.data={content:b,config:a.initialPreviewConfig,tags:a.initialPreviewThumbTags}},fetch:function(){return a.previewCache.data.content.filter(function(a){return null!==a})},count:function(b){return a.previewCache.data&&a.previewCache.data.content?b?a.previewCache.data.content.length:a.previewCache.fetch().length:0},get:function(b,e){var g="init_"+b,h=a.previewCache.data,f=h.config[b],l=h.content[b],m=a.previewInitId+"-"+
g,n=c.ifSet("previewAsData",f,a.initialPreviewAsData),r=function(b,d,e,g,h,f,k,l,m){l=" file-preview-initial "+c.SORT_CSS+(l?" "+l:"");return a._generatePreviewTemplate(b,d,e,g,h,!1,null,l,f,k,m)};if(!l)return"";e=void 0===e?!0:e;var p=c.ifSet("type",f,a.initialPreviewFileType||"generic");var y=c.ifSet("filename",f,c.ifSet("caption",f));var z=c.ifSet("filetype",f,p);var t=a.previewCache.footer(b,e,f&&f.size||null);var w=c.ifSet("frameClass",f);g=n?r(p,l,y,z,m,t,g,w):r("generic",l,y,z,m,t,g,w,p).replace(/\{content}/g,
h.content[b]);h.tags.length&&h.tags[b]&&(g=c.replaceTags(g,h.tags[b]));c.isEmpty(f)||c.isEmpty(f.frameAttr)||(h=d(document.createElement("div")).html(g),h.find(".file-preview-initial").attr(f.frameAttr),g=h.html(),h.remove());return g},add:function(b,d,g,h){var e=a.previewCache.data;c.isArray(b)||(b=b.split(a.initialPreviewDelimiter));h?(h=e.content.push(b)-1,e.config[h]=d,e.tags[h]=g):(h=b.length-1,e.content=b,e.config=d,e.tags=g);a.previewCache.data=e;return h},set:function(b,d,g,h){var e=a.previewCache.data;
if(b&&b.length&&(c.isArray(b)||(b=b.split(a.initialPreviewDelimiter)),b.filter(function(a){return null!==a}).length)){void 0===e.content&&(e.content=[]);void 0===e.config&&(e.config=[]);void 0===e.tags&&(e.tags=[]);if(h){for(h=0;h<b.length;h++)b[h]&&e.content.push(b[h]);for(h=0;h<d.length;h++)d[h]&&e.config.push(d[h]);for(h=0;h<g.length;h++)g[h]&&e.tags.push(g[h])}else e.content=b,e.config=d,e.tags=g;a.previewCache.data=e}},unset:function(b){var c=a.previewCache.count();c&&(1===c?(a.previewCache.data.content=
[],a.previewCache.data.config=[],a.previewCache.data.tags=[],a.initialPreview=[],a.initialPreviewConfig=[],a.initialPreviewThumbTags=[]):(a.previewCache.data.content[b]=null,a.previewCache.data.config[b]=null,a.previewCache.data.tags[b]=null))},out:function(){var b="";var c=a.previewCache.count(!0);var d;if(0===c)return{content:"",caption:""};for(d=0;d<c;d++)b+=a.previewCache.get(d);c=a._getMsgSelected(a.previewCache.count());return{content:b,caption:c}},footer:function(b,d,g){var e=a.previewCache.data;
if(!e||!e.config||0===e.config.length||c.isEmpty(e.config[b]))return"";d=void 0===d?!0:d;var f=e.config[b];b=c.ifSet("caption",f);e="";var l=c.ifSet("width",f,"auto"),m=c.ifSet("url",f,!1),n=c.ifSet("key",f,null),r=a.fileActionSettings,p=c.ifSet("showDelete",f,!0),y=c.ifSet("showZoom",f,r.showZoom);f=c.ifSet("showDrag",f,r.showDrag);a.initialPreviewShowDelete&&(e=a._renderFileActions(!1,p,y,f,!1===m&&d,m,n,!0));return a._getLayoutTemplate("footer").replace(/\{progress}/g,a._renderThumbProgress()).replace(/\{actions}/g,
e).replace(/\{caption}/g,b).replace(/\{size}/g,a._getSize(g)).replace(/\{width}/g,l).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,"")}};a.previewCache.init()},_handler:function(a,b,c){var d=this.namespace;b=b.split(" ").join(d+" ")+d;if(a&&a.length)a.off(b).on(b,c)},_log:function(a){var b=this.$element.attr("id");b&&(a='"'+b+'": '+a);"undefined"!==typeof window.console.log?window.console.log(a):window.alert(a)},_validate:function(){var a="file"===this.$element.attr("type");a||this._log('The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.');
return a},_errorsExist:function(){if(this.$errorContainer.find("li").length)return!0;var a=d(document.createElement("div")).html(this.$errorContainer.html());a.find("span.kv-error-close").remove();a.find("ul").remove();return d.trim(a.text()).length?!0:!1},_errorHandler:function(a,b){var c=a.target.error;c.code===c.NOT_FOUND_ERR?this._showError(this.msgFileNotFound.replace("{name}",b)):c.code===c.SECURITY_ERR?this._showError(this.msgFileSecured.replace("{name}",b)):c.code===c.NOT_READABLE_ERR?this._showError(this.msgFileNotReadable.replace("{name}",
b)):c.code===c.ABORT_ERR?this._showError(this.msgFilePreviewAborted.replace("{name}",b)):this._showError(this.msgFilePreviewError.replace("{name}",b))},_addError:function(a){var b=this.$errorContainer;a&&b.length&&(b.html(this.errorCloseButton+a),this._handler(b.find(".kv-error-close"),"click",function(){b.fadeOut("slow")}))},_resetErrors:function(a){var b=this.$errorContainer;this.isError=!1;this.$container.removeClass("has-error");b.html("");a?b.fadeOut("slow"):b.hide()},_showFolderError:function(a){var b=
this.$errorContainer;if(a){var d=this.msgFoldersNotAllowed.replace(/\{n}/g,a);this._addError(d);c.addCss(this.$container,"has-error");b.fadeIn(800);this._raise("filefoldererror",[a,d])}},_showUploadError:function(a,b,d){var e=this.$errorContainer;d=d||"fileuploaderror";var h=b&&b.id?'<li data-file-id="'+b.id+'">'+a+"</li>":"<li>"+a+"</li>";0===e.find("ul").length?this._addError("<ul>"+h+"</ul>"):e.find("ul").append(h);e.fadeIn(800);this._raise(d,[b,a]);this.$container.removeClass("file-input-new");
c.addCss(this.$container,"has-error");return!0},_showError:function(a,b,d){var e=this.$errorContainer;d=d||"fileerror";b=b||{};b.reader=this.reader;this._addError(a);e.fadeIn(800);this._raise(d,[b,a]);this.isUploadable||this._clearFileInput();this.$container.removeClass("file-input-new");c.addCss(this.$container,"has-error");this.$btnUpload.attr("disabled",!0);return!0},_noFilesError:function(a){var b=1<this.minFileCount?this.filePlural:this.fileSingle;b=this.msgFilesTooLess.replace("{n}",this.minFileCount).replace("{files}",
b);var d=this.$errorContainer;this._addError(b);this.isError=!0;this._updateFileDetails(0);d.fadeIn(800);this._raise("fileerror",[a,b]);this._clearFileInput();c.addCss(this.$container,"has-error")},_parseError:function(a,b,c,g){c=d.trim(c+"");var e="."===c.slice(-1)?"":".";b=void 0!==b.responseJSON&&void 0!==b.responseJSON.error?b.responseJSON.error:b.responseText;this.cancelling&&this.msgUploadAborted&&(c=this.msgUploadAborted);this.showAjaxErrorDetails&&b?(b=d.trim(b.replace(/\n\s*\n/g,"\n")),b=
0<b.length?"<pre>"+b+"</pre>":"",c+=e+b):c+=e;c===e&&(c=this.msgAjaxError.replace("{operation}",a));this.cancelling=!1;return g?"<b>"+g+": </b>"+c:c},_parseFileType:function(a){var b,d=this.allowedPreviewTypes;for(b=0;b<d.length;b++){var g=d[b];var h=this.fileTypeSettings[g];h=h(a.type,a.name)?g:"";if(!c.isEmpty(h))return h}return"other"},_getPreviewIcon:function(a){var b=this,c=null;if(a&&-1<a.indexOf(".")){var g=a.split(".").pop();b.previewFileIconSettings&&b.previewFileIconSettings[g]&&(c=b.previewFileIconSettings[g]);
b.previewFileExtSettings&&d.each(b.previewFileExtSettings,function(a,d){b.previewFileIconSettings[a]&&d(g)&&(c=b.previewFileIconSettings[a])})}return c},_parseFilePreviewIcon:function(a,b){var c=this._getPreviewIcon(b)||this.previewFileIcon;-1<a.indexOf("{previewFileIcon}")&&(a=a.replace(/\{previewFileIconClass}/g,this.previewFileIconClass).replace(/\{previewFileIcon}/g,c));return a},_raise:function(a,b){var c=d.Event(a);void 0!==b?this.$element.trigger(c,b):this.$element.trigger(c);if(c.isDefaultPrevented()||
!1===c.result)return!1;switch(a){case "filebatchuploadcomplete":case "filebatchuploadsuccess":case "fileuploaded":case "fileclear":case "filecleared":case "filereset":case "fileerror":case "filefoldererror":case "fileuploaderror":case "filebatchuploaderror":case "filedeleteerror":case "filecustomerror":case "filesuccessremove":break;default:this.ajaxAborted=c.result}return!0},_listenFullScreen:function(a){var b=this.$modal;if(b&&b.length){var c=b&&b.find(".btn-fullscreen");var d=b&&b.find(".btn-borderless");
c.length&&d.length&&(c.removeClass("active").attr("aria-pressed","false"),d.removeClass("active").attr("aria-pressed","false"),a?c.addClass("active").attr("aria-pressed","true"):d.addClass("active").attr("aria-pressed","true"),b.hasClass("file-zoom-fullscreen")?this._maximizeZoomDialog():a?this._maximizeZoomDialog():d.removeClass("active").attr("aria-pressed","false"))}},_listen:function(){var a=this,b=a.$form,e=a.$container;a._handler(a.$element,"change",d.proxy(a._change,a));a.showBrowse&&a._handler(a.$btnFile,
"click",d.proxy(a._browse,a));a._handler(e.find(".fileinput-remove:not([disabled])"),"click",d.proxy(a.clear,a));a._handler(e.find(".fileinput-cancel"),"click",d.proxy(a.cancel,a));a._initDragDrop();a._handler(b,"reset",d.proxy(a.reset,a));a.isUploadable||a._handler(b,"submit",d.proxy(a._submitForm,a));a._handler(a.$container.find(".fileinput-upload"),"click",d.proxy(a._uploadClick,a));a._handler(d(window),"resize",function(){a._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)});
a._handler(d(document),"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){a._listenFullScreen(c.checkFullScreen())});a._initClickable()},_initClickable:function(){var a=this;if(a.isClickable){var b=a.isUploadable?a.$dropZone:a.$preview.find(".file-default-preview");c.addCss(b,"clickable");b.attr("tabindex",-1);a._handler(b,"click",function(c){c=d(c.target);if(!c.parents(".file-preview-thumbnails").length||c.parents(".file-default-preview").length)a.$element.trigger("click"),
b.blur()})}},_initDragDrop:function(){var a=this.$dropZone;this.isUploadable&&this.dropZoneEnabled&&this.showPreview&&(this._handler(a,"dragenter dragover",d.proxy(this._zoneDragEnter,this)),this._handler(a,"dragleave",d.proxy(this._zoneDragLeave,this)),this._handler(a,"drop",d.proxy(this._zoneDrop,this)),this._handler(d(document),"dragenter dragover drop",this._zoneDragDropInit))},_zoneDragDropInit:function(a){a.stopPropagation();a.preventDefault()},_zoneDragEnter:function(a){var b=-1<d.inArray("Files",
a.originalEvent.dataTransfer.types);this._zoneDragDropInit(a);this.isDisabled||!b?(a.originalEvent.dataTransfer.effectAllowed="none",a.originalEvent.dataTransfer.dropEffect="none"):c.addCss(this.$dropZone,"file-highlighted")},_zoneDragLeave:function(a){this._zoneDragDropInit(a);this.isDisabled||this.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(a){a.preventDefault();this.isDisabled||c.isEmpty(a.originalEvent.dataTransfer.files)||(this._change(a,"dragdrop"),this.$dropZone.removeClass("file-highlighted"))},
_uploadClick:function(a){var b=this.$container.find(".fileinput-upload"),d=!b.hasClass("disabled")&&c.isEmpty(b.attr("disabled"));a&&a.isDefaultPrevented()||(this.isUploadable?(a.preventDefault(),d&&this.upload()):d&&"submit"!==b.attr("type")&&(b=b.closest("form"),b.length&&b.trigger("submit"),a.preventDefault()))},_submitForm:function(){var a=this.$element.get(0).files;return a&&0<this.minFileCount&&this._getFileCount(a.length)<this.minFileCount?(this._noFilesError({}),!1):!this._abort({})},_clearPreview:function(){var a=
this.$preview;(this.showUploadedThumbs?a.find(c.FRAMES+":not(.file-preview-success)"):a.find(c.FRAMES)).each(function(){var b=d(this);b.remove();c.cleanZoomCache(a.find("#zoom-"+b.attr("id")))});this.$preview.find(c.FRAMES).length&&this.showPreview||this._resetUpload();this._validateDefaultPreview()},_initSortable:function(){var a=this,b=a.$preview;var e="."+c.SORT_CSS;window.KvSortable&&0!==b.find(e).length&&(e={handle:".drag-handle-init",dataIdAttr:"data-preview-id",draggable:e,onSort:function(b){var e=
b.oldIndex,g=b.newIndex;a.initialPreview=c.moveArray(a.initialPreview,e,g);a.initialPreviewConfig=c.moveArray(a.initialPreviewConfig,e,g);a.previewCache.init();for(var f=0;f<a.initialPreviewConfig.length;f++)if(null!==a.initialPreviewConfig[f]){var m=a.initialPreviewConfig[f].key;m=d(".kv-file-remove[data-key='"+m+"']").closest(c.FRAMES);m.attr("data-fileindex","init_"+f).data("fileindex","init_"+f)}a._raise("filesorted",{previewId:d(b.item).attr("id"),oldIndex:e,newIndex:g,stack:a.initialPreviewConfig})}},
b.data("kvsortable")&&b.kvsortable("destroy"),d.extend(!0,e,a.fileActionSettings.dragSettings),b.kvsortable(e))},_initPreview:function(a){var b=this.initialCaption||"";if(this.previewCache.count()){var d=this.previewCache.out();b=a&&this.initialCaption?this.initialCaption:d.caption;this.$preview.html(d.content);this._setInitThumbAttr();this._setCaption(b);this._initSortable();c.isEmpty(d.content)||this.$container.removeClass("file-input-new")}else this._clearPreview(),a?this._setCaption(b):this._initCaption()},
_getZoomButton:function(a){var b=this.previewZoomButtonIcons[a],c=this.previewZoomButtonClasses[a],d=' title="'+(this.previewZoomButtonTitles[a]||"")+'" '+("close"===a?' data-dismiss="modal" aria-hidden="true"':"");if("fullscreen"===a||"borderless"===a||"toggleheader"===a)d+=' data-toggle="button" aria-pressed="false" autocomplete="off"';return'<button type="button" class="'+c+" btn-"+a+'"'+d+">"+b+"</button>"},_getModalContent:function(){return this._getLayoutTemplate("modal").replace(/\{heading}/g,
this.msgZoomModalHeading).replace(/\{prev}/g,this._getZoomButton("prev")).replace(/\{next}/g,this._getZoomButton("next")).replace(/\{toggleheader}/g,this._getZoomButton("toggleheader")).replace(/\{fullscreen}/g,this._getZoomButton("fullscreen")).replace(/\{borderless}/g,this._getZoomButton("borderless")).replace(/\{close}/g,this._getZoomButton("close"))},_listenModalEvent:function(a){var b=this,d=b.$modal;d.on(a+".bs.modal",function(e){var g=d.find(".btn-fullscreen"),f=d.find(".btn-borderless");b._raise("filezoom"+
a,{sourceEvent:e,previewId:d.data("previewId"),modal:d});"shown"===a&&(f.removeClass("active").attr("aria-pressed","false"),g.removeClass("active").attr("aria-pressed","false"),d.hasClass("file-zoom-fullscreen")&&(b._maximizeZoomDialog(),c.checkFullScreen()?g.addClass("active").attr("aria-pressed","true"):f.addClass("active").attr("aria-pressed","true")))})},_initZoom:function(){var a=this;var b=a._getLayoutTemplate("modalMain");a.showPreview&&(a.$modal=d("#"+c.MODAL_ID),a.$modal&&a.$modal.length||
(b=d(document.createElement("div")).html(b).insertAfter(a.$container),a.$modal=d("#"+c.MODAL_ID).insertBefore(b),b.remove()),c.initModal(a.$modal),a.$modal.html(a._getModalContent()),d.each(c.MODAL_EVENTS,function(b,c){a._listenModalEvent(c)}))},_initZoomButtons:function(){var a=this.$modal.data("previewId")||"";var b=this.$preview.find(c.FRAMES).toArray();var e=b.length,g=this.$modal.find(".btn-prev"),h=this.$modal.find(".btn-next");if(2>b.length)g.hide(),h.hide();else if(g.show(),h.show(),e){var f=
d(b[0]);b=d(b[e-1]);g.removeAttr("disabled");h.removeAttr("disabled");f.length&&f.attr("id")===a&&g.attr("disabled",!0);b.length&&b.attr("id")===a&&h.attr("disabled",!0)}},_maximizeZoomDialog:function(){var a=this.$modal,b=a.find(".modal-header:visible"),c=a.find(".modal-footer:visible"),g=a.find(".modal-body"),h=d(window).height();a.addClass("file-zoom-fullscreen");b&&b.length&&(h-=b.outerHeight(!0));c&&c.length&&(h-=c.outerHeight(!0));g&&g.length&&(b=g.outerHeight(!0)-g.height(),h-=b);a.find(".kv-zoom-body").height(h)},
_resizeZoomDialog:function(a){var b=this.$modal,d=b.find(".btn-fullscreen"),g=b.find(".btn-borderless");if(b.hasClass("file-zoom-fullscreen"))(c.toggleFullScreen(!1),a)?d.hasClass("active")||(b.removeClass("file-zoom-fullscreen"),this._resizeZoomDialog(!0),g.hasClass("active")&&g.removeClass("active").attr("aria-pressed","false")):d.hasClass("active")?d.removeClass("active").attr("aria-pressed","false"):(b.removeClass("file-zoom-fullscreen"),this.$modal.find(".kv-zoom-body").css("height",this.zoomModalHeight));
else{if(!a){this._maximizeZoomDialog();return}c.toggleFullScreen(!0)}b.focus()},_setZoomContent:function(a,b){var e=this,g=a.attr("id"),h=e.$modal,f=h.find(".btn-prev"),l=h.find(".btn-next"),m=h.find(".btn-fullscreen"),n=h.find(".btn-borderless"),r=h.find(".btn-toggleheader");var p=e.$preview.find("#zoom-"+g);var y=p.attr("data-template")||"generic";p=p.find(".kv-file-content");p=p.length?p.html():"";var z=a.data("caption")||"";var t=a.data("size")||"";z=z+" "+t;h.find(".kv-zoom-title").html(z);var w=
h.find(".kv-zoom-body");h.removeClass("kv-single-content");if(b){var F=w.clone().insertAfter(w);w.html(p).hide();F.fadeOut("fast",function(){w.fadeIn("fast");F.remove()})}else w.html(p);if(y=e.previewZoomSettings[y]){var B=w.find(".kv-preview-data");c.addCss(B,"file-zoom-detail");d.each(y,function(a,b){B.css(a,b);(B.attr("width")&&"width"===a||B.attr("height")&&"height"===a)&&B.removeAttr(a)})}h.data("previewId",g);e._handler(f,"click",function(){e._zoomSlideShow("prev",g)});e._handler(l,"click",
function(){e._zoomSlideShow("next",g)});e._handler(m,"click",function(){e._resizeZoomDialog(!0)});e._handler(n,"click",function(){e._resizeZoomDialog(!1)});e._handler(r,"click",function(){var a=h.find(".modal-header"),b=h.find(".modal-body .floating-buttons"),c=a.find(".kv-zoom-actions"),d=function(b){var c=e.$modal.find(".kv-zoom-body"),d=e.zoomModalHeight;h.hasClass("file-zoom-fullscreen")&&(d=c.outerHeight(!0),b||(d-=a.outerHeight(!0)));c.css("height",b?d+b:d)};if(a.is(":visible")){var g=a.outerHeight(!0);
a.slideUp("slow",function(){c.find(".btn").appendTo(b);d(g)})}else b.find(".btn").appendTo(c),a.slideDown("slow",function(){d()});h.focus()});e._handler(h,"keydown",function(a){a=a.which||a.keyCode;37!==a||f.attr("disabled")||e._zoomSlideShow("prev",g);39!==a||l.attr("disabled")||e._zoomSlideShow("next",g)})},_zoomPreview:function(a){var b=this.$modal;if(!a.length)throw"Cannot zoom to detailed preview!";c.initModal(b);b.html(this._getModalContent());a=a.closest(c.FRAMES);this._setZoomContent(a);b.modal("show");
this._initZoomButtons()},_zoomSlideShow:function(a,b){var e=this.$modal.find(".kv-zoom-actions .btn-"+a);var g=this.$preview.find(c.FRAMES).toArray();var h=g.length;if(!e.attr("disabled")){for(e=0;e<h;e++)if(d(g[e]).attr("id")===b){var f="prev"===a?e-1:e+1;break}0>f||f>=h||!g[f]||(g=d(g[f]),g.length&&this._setZoomContent(g,!0),this._initZoomButtons(),this._raise("filezoom"+a,{previewId:b,modal:this.$modal}))}},_initZoomButton:function(){var a=this;a.$preview.find(".kv-file-zoom").each(function(){var b=
d(this);a._handler(b,"click",function(){a._zoomPreview(b)})})},_clearObjects:function(a){a.find("video audio").each(function(){this.pause();d(this).remove()});a.find("img object div").each(function(){d(this).remove()})},_clearFileInput:function(){var a=this.$element;this.fileInputCleared=!0;if(!c.isEmpty(a.val()))if(this.isIE9||this.isIE10){var b=a.closest("form");var e=d(document.createElement("form"));var g=d(document.createElement("div"));a.before(g);b.length?b.after(e):g.after(e);e.append(a).trigger("reset");
g.before(a).remove();e.remove()}else a.val("")},_resetUpload:function(){this.uploadCache={content:[],config:[],tags:[],append:!0};this.uploadCount=0;this.uploadStatus={};this.uploadLog=[];this.uploadAsyncCount=0;this.loadedImages=[];this.totalImagesCount=0;this.$btnUpload.removeAttr("disabled");this._setProgress(0);c.addCss(this.$progress,"hide");this._resetErrors(!1);this.ajaxAborted=!1;this.ajaxRequests=[];this._resetCanvas();this.cacheInitialPreview={};this.overwriteInitial&&(this.initialPreview=
[],this.initialPreviewConfig=[],this.initialPreviewThumbTags=[],this.previewCache.data={content:[],config:[],tags:[]})},_resetCanvas:function(){this.canvas&&this.imageCanvasContext&&this.imageCanvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)},_hasInitialPreview:function(){return!this.overwriteInitial&&this.previewCache.count()},_resetPreview:function(){if(this.previewCache.count()){var a=this.previewCache.out();this.$preview.html(a.content);this._setInitThumbAttr();a=this.initialCaption?
this.initialCaption:a.caption;this._setCaption(a)}else this._clearPreview(),this._initCaption();this.showPreview&&(this._initZoom(),this._initSortable())},_clearDefaultPreview:function(){this.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){this.showPreview&&!c.isEmpty(this.defaultPreviewContent)&&(this.$preview.html('<div class="file-default-preview">'+this.defaultPreviewContent+"</div>"),this.$container.removeClass("file-input-new"),this._initClickable())},_resetPreviewThumbs:function(a){a?
(this._clearPreview(),this.clearStack()):this._hasInitialPreview()?(a=this.previewCache.out(),this.$preview.html(a.content),this._setInitThumbAttr(),this._setCaption(a.caption),this._initPreviewActions()):this._clearPreview()},_getLayoutTemplate:function(a){a=this.layoutTemplates[a];return c.isEmpty(this.customLayoutTags)?a:c.replaceTags(a,this.customLayoutTags)},_getPreviewTemplate:function(a){a=this.previewTemplates[a];return c.isEmpty(this.customPreviewTags)?a:c.replaceTags(a,this.customPreviewTags)},
_getOutData:function(a,b,c){a=a||{};b=b||{};c=c||this.filestack.slice(0)||{};return{form:this.formdata,files:c,filenames:this.filenames,filescount:this.getFilesCount(),extra:this._getExtraData(),response:b,reader:this.reader,jqXHR:a}},_getMsgSelected:function(a){var b=1===a?this.fileSingle:this.filePlural;return 0<a?this.msgSelected.replace("{n}",a).replace("{files}",b):this.msgNoFilesSelected},_getThumbs:function(a){return this.$preview.find(c.FRAMES+":not(.file-preview-initial)"+(a||""))},_getExtraData:function(a,
b){var c=this.uploadExtraData;"function"===typeof this.uploadExtraData&&(c=this.uploadExtraData(a,b));return c},_initXhr:function(a,b,c){var d=this;a.upload&&a.upload.addEventListener("progress",function(a){var e=0,g=a.total,h=a.loaded||a.position;a.lengthComputable&&(e=Math.floor(h/g*100));b?d._setAsyncUploadStatus(b,e,c):d._setProgress(e)},!1);return a},_ajaxSubmit:function(a,b,c,g,h,f){var e=this;e._raise("filepreajax",[h,f])&&(e._uploadExtra(h,f),a=d.extend(!0,{},{xhr:function(){var a=d.ajaxSettings.xhr();
return e._initXhr(a,h,e.getFileStack().length)},url:e.uploadUrl,type:"POST",dataType:"json",data:e.formdata,cache:!1,processData:!1,contentType:!1,beforeSend:a,success:b,complete:c,error:g},e.ajaxSettings),e.ajaxRequests.push(d.ajax(a)))},_mergeArray:function(a,b){var d=c.cleanArray(this[a]),g=c.cleanArray(b);this[a]=d.concat(g)},_initUploadSuccess:function(a,b,e){var g=this;if(g.showPreview&&"object"===typeof a&&!d.isEmptyObject(a)&&void 0!==a.initialPreview&&0<a.initialPreview.length){g.hasInitData=
!0;var h=a.initialPreview||[];var f=a.initialPreviewConfig||[];var l=a.initialPreviewThumbTags||[];a=void 0===a.append||a.append?!0:!1;0<h.length&&!c.isArray(h)&&(h=h.split(g.initialPreviewDelimiter));g._mergeArray("initialPreview",h);g._mergeArray("initialPreviewConfig",f);g._mergeArray("initialPreviewThumbTags",l);if(void 0!==b)if(e)e=b.attr("data-fileindex"),g.uploadCache.content[e]=h[0],g.uploadCache.config[e]=f[0]||[],g.uploadCache.tags[e]=l[0]||[],g.uploadCache.append=a;else{h=g.previewCache.add(h,
f[0],l[0],a);h=g.previewCache.get(h,!1);var m=d(document.createElement("div")).html(h).hide().insertAfter(b);(h=m.find(".kv-zoom-cache"))&&h.length&&h.insertAfter(b);b.fadeOut("slow",function(){var a=m.find(".file-preview-frame");a&&a.length&&a.insertBefore(b).fadeIn("slow").css("display:inline-block");g._initPreviewActions();g._clearFileInput();c.cleanZoomCache(g.$preview.find("#zoom-"+b.attr("id")));b.remove();m.remove();g._initSortable()})}else g.previewCache.set(h,f,l,a),g._initPreview(),g._initPreviewActions()}},
_initSuccessThumbs:function(){var a=this;a.showPreview&&a._getThumbs(c.FRAMES+".file-preview-success").each(function(){var b=d(this),e=a.$preview,g=b.find(".kv-file-remove");g.removeAttr("disabled");a._handler(g,"click",function(){var d=b.attr("id"),g=a._raise("filesuccessremove",[d,b.data("fileindex")]);c.cleanMemory(b);!1!==g&&b.fadeOut("slow",function(){c.cleanZoomCache(e.find("#zoom-"+d));b.remove();e.find(c.FRAMES).length||a.reset()})})})},_checkAsyncComplete:function(){var a;for(a=0;a<this.filestack.length;a++)if(this.filestack[a]){var b=
this.previewInitId+"-"+a;if(-1===d.inArray(b,this.uploadLog))return!1}return this.uploadAsyncCount===this.uploadLog.length},_uploadExtra:function(a,b){var c=this,g=c._getExtraData(a,b);0!==g.length&&d.each(g,function(a,b){c.formdata.append(a,b)})},_uploadSingle:function(a,b,e){var g=this,h=g.getFileStack().length,f=new FormData,l,m=g.previewInitId+"-"+a,n=0<g.filestack.length||!d.isEmptyObject(g.uploadExtraData),r=d("#"+m).find(".file-thumb-progress"),p={id:m,index:a};g.formdata=f;if(g.showPreview){var y=
d("#"+m+":not(.file-preview-initial)");var z=y.find(".kv-file-upload");var t=y.find(".kv-file-remove");r.removeClass("hide")}if(!(0===h||!n||z&&z.hasClass("disabled")||g._abort(p))){var w=function(a,b){g.updateStack(a,void 0);g.uploadLog.push(b);g._checkAsyncComplete()&&(g.fileBatchCompleted=!0)};var F=function(){var a=g.uploadCache,b,d,e,h=0,f=g.cacheInitialPreview;g.fileBatchCompleted&&(f&&f.content&&(h=f.content.length),setTimeout(function(){if(g.showPreview){g.previewCache.set(a.content,a.config,
a.tags,a.append);if(h){for(d=0;d<a.content.length;d++)e=d+h,f.content[e]=a.content[d],f.config.length&&(f.config[e]=a.config[d]),f.tags.length&&(f.tags[e]=a.tags[d]);g.initialPreview=c.cleanArray(f.content);g.initialPreviewConfig=c.cleanArray(f.config);g.initialPreviewThumbTags=c.cleanArray(f.tags)}else g.initialPreview=a.content,g.initialPreviewConfig=a.config,g.initialPreviewThumbTags=a.tags;g.cacheInitialPreview={};g.hasInitData&&(g._initPreview(),g._initPreviewActions())}g.unlock();g._clearFileInput();
b=g.$preview.find(".file-preview-initial");g.uploadAsync&&b.length&&(c.addCss(b,c.SORT_CSS),g._initSortable());g._raise("filebatchuploadcomplete",[g.filestack,g._getExtraData()]);g.uploadCount=0;g.uploadStatus={};g.uploadLog=[];g._setProgress(101)},100))};f.append(g.uploadFileAttr,b[a],g.filenames[a]);f.append("file_id",a);g._ajaxSubmit(function(b){l=g._getOutData(b);g.fileBatchCompleted=!1;g.showPreview&&(y.hasClass("file-preview-success")||(g._setThumbStatus(y,"Loading"),c.addCss(y,"file-uploading")),
z.attr("disabled",!0),t.attr("disabled",!0));e||g.lock();g._raise("filepreupload",[l,m,a]);d.extend(!0,p,l);g._abort(p)&&(b.abort(),g._setProgressCancelled())},function(b,h,f){var k=g.showPreview&&y.attr("id")?y.attr("id"):m;l=g._getOutData(f,b);d.extend(!0,p,l);setTimeout(function(){c.isEmpty(b)||c.isEmpty(b.error)?(g.showPreview&&(g._setThumbStatus(y,"Success"),z.hide(),g._initUploadSuccess(b,y,e),g._setProgress(101,r)),g._raise("fileuploaded",[l,k,a]),e?w(a,k):g.updateStack(a,void 0)):(g._showUploadError(b.error,
p),g._setPreviewError(y,a),e&&w(a,k))},100)},function(){setTimeout(function(){g.showPreview&&(z.removeAttr("disabled"),t.removeAttr("disabled"),y.removeClass("file-uploading"));e?F():(g.unlock(!1),g._clearFileInput());g._initSuccessThumbs()},100)},function(c,h,f){var k=g.ajaxOperations.uploadThumb,l=g._parseError(k,c,f,e?b[a].name:null);setTimeout(function(){e&&w(a,m);g.uploadStatus[m]=100;g._setPreviewError(y,a);d.extend(!0,p,g._getOutData(c));g._setProgress(101,r,g.msgAjaxProgressError.replace("{operation}",
k));g._showUploadError(l,p)},100)},m,a)}},_uploadBatch:function(){var a=this,b=a.filestack,e=b.length,g={},h=0<a.filestack.length||!d.isEmptyObject(a.uploadExtraData);a.formdata=new FormData;if(0!==e&&h&&!a._abort(g)){var f=function(){d.each(b,function(b){a.updateStack(b,void 0)});a._clearFileInput()};d.each(b,function(d,e){c.isEmpty(b[d])||a.formdata.append(a.uploadFileAttr,e,a.filenames[d])});a._ajaxSubmit(function(b){a.lock();var e=a._getOutData(b);a.showPreview&&a._getThumbs().each(function(){var b=
d(this),e=b.find(".kv-file-upload"),g=b.find(".kv-file-remove");b.hasClass("file-preview-success")||(a._setThumbStatus(b,"Loading"),c.addCss(b,"file-uploading"));e.attr("disabled",!0);g.attr("disabled",!0)});a._raise("filebatchpreupload",[e]);a._abort(e)&&(b.abort(),a._setProgressCancelled())},function(b,e,g){e=a._getOutData(g,b);g=a._getThumbs(":not(.file-preview-error)");var h=0,k=c.isEmpty(b)||c.isEmpty(b.errorkeys)?[]:b.errorkeys;c.isEmpty(b)||c.isEmpty(b.error)?(a._raise("filebatchuploadsuccess",
[e]),f(),a.showPreview?(g.each(function(){var b=d(this),c=b.find(".kv-file-upload");b.find(".kv-file-upload").hide();a._setThumbStatus(b,"Success");b.removeClass("file-uploading");c.removeAttr("disabled")}),a._initUploadSuccess(b)):a.reset(),a._setProgress(101)):(a.showPreview&&(g.each(function(){var b=d(this),c=b.find(".kv-file-remove"),e=b.find(".kv-file-upload");b.removeClass("file-uploading");e.removeAttr("disabled");c.removeAttr("disabled");0===k.length?a._setPreviewError(b):(-1!==d.inArray(h,
k)?a._setPreviewError(b):(b.find(".kv-file-upload").hide(),a._setThumbStatus(b,"Success"),a.updateStack(h,void 0)),h++)}),a._initUploadSuccess(b)),a._showUploadError(b.error,e,"filebatchuploaderror"))},function(){a.unlock();a._initSuccessThumbs();a._clearFileInput();a._raise("filebatchuploadcomplete",[a.filestack,a._getExtraData()])},function(b,c,g){c=a._getOutData(b);var h=a.ajaxOperations.uploadBatch;b=a._parseError(h,b,g);a._showUploadError(b,c,"filebatchuploaderror");a.uploadFileCount=e-1;a.showPreview&&
(a._getThumbs().each(function(){var b=d(this),c=b.attr("data-fileindex");b.removeClass("file-uploading");void 0!==a.filestack[c]&&a._setPreviewError(b)}),a._getThumbs().removeClass("file-uploading"),a._getThumbs(" .kv-file-upload").removeAttr("disabled"),a._getThumbs(" .kv-file-delete").removeAttr("disabled"),a._setProgress(101,a.$progress,a.msgAjaxProgressError.replace("{operation}",h)))})}},_uploadExtraOnly:function(){var a=this,b={};a.formdata=new FormData;a._abort(b)||a._ajaxSubmit(function(c){a.lock();
var d=a._getOutData(c);a._raise("filebatchpreupload",[d]);a._setProgress(50);b.data=d;b.xhr=c;a._abort(b)&&(c.abort(),a._setProgressCancelled())},function(b,d,h){d=a._getOutData(h,b);c.isEmpty(b)||c.isEmpty(b.error)?(a._raise("filebatchuploadsuccess",[d]),a._clearFileInput(),a._initUploadSuccess(b),a._setProgress(101)):a._showUploadError(b.error,d,"filebatchuploaderror")},function(){a.unlock();a._clearFileInput();a._raise("filebatchuploadcomplete",[a.filestack,a._getExtraData()])},function(c,d,h){d=
a._getOutData(c);var e=a.ajaxOperations.uploadExtra;c=a._parseError(e,c,h);b.data=d;a._showUploadError(c,d,"filebatchuploaderror");a._setProgress(101,a.$progress,a.msgAjaxProgressError.replace("{operation}",e))})},_deleteFileIndex:function(a){var b=a.attr("data-fileindex");"init_"===b.substring(0,5)&&(b=parseInt(b.replace("init_","")),this.initialPreview=c.spliceArray(this.initialPreview,b),this.initialPreviewConfig=c.spliceArray(this.initialPreviewConfig,b),this.initialPreviewThumbTags=c.spliceArray(this.initialPreviewThumbTags,
b),this.$preview.find(c.FRAMES).each(function(){var a=d(this),c=a.attr("data-fileindex");"init_"===c.substring(0,5)&&(c=parseInt(c.replace("init_","")),c>b&&(c--,a.attr("data-fileindex","init_"+c)))}),this.uploadAsync&&(this.cacheInitialPreview=this.getPreview()))},_initFileActions:function(){var a=this,b=a.$preview;a.showPreview&&(a._initZoomButton(),b.find(c.FRAMES+" .kv-file-remove").each(function(){var e=d(this),g=e.closest(c.FRAMES),h,f=g.attr("id"),l=g.attr("data-fileindex"),m,n,r;a._handler(e,
"click",function(){r=a._raise("filepreremove",[f,l]);if(!1===r||!a._validateMinCount())return!1;h=g.hasClass("file-preview-error");c.cleanMemory(g);g.fadeOut("slow",function(){c.cleanZoomCache(b.find("#zoom-"+f));a.updateStack(l,void 0);a._clearObjects(g);g.remove();f&&h&&a.$errorContainer.find('li[data-file-id="'+f+'"]').fadeOut("fast",function(){d(this).remove();a._errorsExist()||a._resetErrors()});a._clearFileInput();var e=a.getFileStack(!0),k=a.previewCache.count(),r=e.length,t=a.showPreview&&
b.find(c.FRAMES).length;0!==r||0!==k||t?(m=k+r,n=1<m?a._getMsgSelected(m):e[0]?a._getFileNames()[0]:"",a._setCaption(n)):a.reset();a._raise("fileremoved",[f,l])})})}),a.$preview.find(c.FRAMES+" .kv-file-upload").each(function(){var b=d(this);a._handler(b,"click",function(){var d=b.closest(c.FRAMES),e=d.attr("data-fileindex");d.hasClass("file-preview-error")||a._uploadSingle(e,a.filestack,!1)})}))},_initPreviewActions:function(){var a=this,b=a.$preview,e=a.deleteExtraData||{},g=c.FRAMES+" .kv-file-remove",
h=function(){var c=a.isUploadable?a.previewCache.count():a.$element.get(0).files.length;0!==b.find(g).length||c||(a.reset(),a.initialCaption="")};a._initZoomButton();b.find(g).each(function(){var g=d(this),f=g.data("url")||a.deleteUrl,m=g.data("key");if(!c.isEmpty(f)&&void 0!==m){var n=g.closest(c.FRAMES),r=a.previewCache.data,p=n.data("fileindex");p=parseInt(p.replace("init_",""));r=c.isEmpty(r.config)&&c.isEmpty(r.config[p])?null:r.config[p];var y=c.isEmpty(r)||c.isEmpty(r.extra)?e:r.extra;"function"===
typeof y&&(y=y());var z={id:g.attr("id"),key:m,extra:y};var t=d.extend(!0,{},{url:f,type:"POST",dataType:"json",data:d.extend(!0,{},{key:m},y),beforeSend:function(b){a.ajaxAborted=!1;a._raise("filepredelete",[m,b,y]);a.ajaxAborted?b.abort():(c.addCss(n,"file-uploading"),c.addCss(g,"disabled"))},success:function(d,e,f){if(c.isEmpty(d)||c.isEmpty(d.error)){a.previewCache.init();p=parseInt(n.data("fileindex").replace("init_",""));a.previewCache.unset(p);var k=a.previewCache.count();d=0<k?a._getMsgSelected(k):
"";a._deleteFileIndex(n);a._setCaption(d);a._raise("filedeleted",[m,f,y]);n.removeClass("file-uploading").addClass("file-deleted");n.fadeOut("slow",function(){c.cleanZoomCache(b.find("#zoom-"+n.attr("id")));a._clearObjects(n);n.remove();h();k||0!==a.getFileStack().length||(a._setCaption(""),a.reset())})}else z.jqXHR=f,z.response=d,a._showError(d.error,z,"filedeleteerror"),n.removeClass("file-uploading"),g.removeClass("disabled"),h()},error:function(b,c,d){c=a._parseError(a.ajaxOperations.deleteThumb,
b,d);z.jqXHR=b;z.response={};a._showError(c,z,"filedeleteerror");n.removeClass("file-uploading");h()}},a.ajaxDeleteSettings);a._handler(g,"click",function(){if(!a._validateMinCount())return!1;d.ajax(t)})}})},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.find(".kv-caption-icon").hide()},_showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},_getSize:function(a){var b=parseFloat(a),c=this.fileSizeGetter;if(!d.isNumeric(a)||!d.isNumeric(b))return"";
"function"===typeof c?b=c(b):0===b?b="0.00 B":(a=Math.floor(Math.log(b)/Math.log(1024)),c="B KB MB GB TB PB EB ZB YB".split(" "),b=1*(b/Math.pow(1024,a)).toFixed(2)+" "+c[a]);return this._getLayoutTemplate("size").replace("{sizeText}",b)},_generatePreviewTemplate:function(a,b,d,g,h,f,l,m,n,r,p){var e=this,k=e.slug(d),t="",w=e.previewSettings[a]||e.defaults.previewSettings[a],F=w&&w.width?w.width:"",B=w&&w.height?w.height:"",q=n||e._renderFileFooter(k,l,c.isEmpty(F)?"auto":F,f);f=(l=e._getPreviewIcon(d))&&
e.preferIconicPreview;l=l&&e.preferIconicZoomPreview;n=function(b,f,l,n){var t=l?"zoom-"+h:h,v=e._getPreviewTemplate(b);n=(m||"")+" "+n;e.frameClass&&(n=e.frameClass+" "+n);l&&(n=n.replace(" "+c.SORT_CSS,""));v=e._parseFilePreviewIcon(v,d);"text"===b&&(f=c.htmlEncode(f));return v.replace(/\{previewId}/g,t).replace(/\{caption}/g,k).replace(/\{frameClass}/g,n).replace(/\{type}/g,g).replace(/\{fileindex}/g,r).replace(/\{width}/g,F).replace(/\{height}/g,B).replace(/\{footer}/g,q).replace(/\{data}/g,f).replace(/\{template}/g,
p||a)};r=r||h.slice(h.lastIndexOf("-")+1);e.fileActionSettings.showZoom&&(t=n(l?"other":a,b,!0,"kv-zoom-thumb"));t="\n"+e._getLayoutTemplate("zoomCache").replace("{zoomContent}",t);return n(f?"other":a,b,!1,"kv-preview-thumb")+t},_previewDefault:function(a,b,e){var g=this.$preview;if(this.showPreview){var h=a?a.name:"",f=a?a.type:"",l=a.size||0,m=this.slug(h),n=!0===e&&!this.isUploadable;a=c.objUrl.createObjectURL(a);this._clearDefaultPreview();h=this._generatePreviewTemplate("other",a,h,f,b,n,l);
g.append("\n"+h);this._setThumbAttr(b,m,l);!0===e&&this.isUploadable&&this._setThumbStatus(d("#"+b),"Error")}},_previewFile:function(a,b,c,d,h){if(this.showPreview){var e=this._parseFileType(b),g=b?b.name:"";a=this.slug(g);var f=this.allowedPreviewTypes,n=this.allowedPreviewMimeTypes,r=this.$preview,p=f&&0<=f.indexOf(e);f=b.size||0;c="text"===e||"html"===e||"image"===e?c.target.result:h;h=n&&-1!==n.indexOf(b.type);"html"===e&&this.purifyHtml&&window.DOMPurify&&(c=window.DOMPurify.sanitize(c));p||
h?(e=this._generatePreviewTemplate(e,c,g,b.type,d,!1,f),this._clearDefaultPreview(),r.append("\n"+e),this._validateImage(d,a,b.type)):this._previewDefault(b,d);this._setThumbAttr(d,a,f);this._initSortable()}},_setThumbAttr:function(a,b,c){a=d("#"+a);a.length&&(c=c&&0<c?this._getSize(c):"",a.data({caption:b,size:c}))},_setInitThumbAttr:function(){var a=this.previewCache.data,b=this.previewCache.count(!0);if(0!==b)for(var d=0;d<b;d++){var g=a.config[d];var h=this.previewInitId+"-init_"+d;var f=c.ifSet("caption",
g,c.ifSet("filename",g));g=c.ifSet("size",g);this._setThumbAttr(h,f,g)}},_slugDefault:function(a){return c.isEmpty(a)?"":String(a).replace(/[\-\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_readFiles:function(a){this.reader=new FileReader;var b=this,e=b.$element,g=b.$preview,h=b.reader,f=b.$previewContainer,l=b.$previewStatus,m=b.msgLoading,n=b.msgProgress,r=b.previewInitId,p=a.length,y=b.fileTypeSettings,z=b.filestack.length,t=b.allowedFileTypes,w=t?t.length:0,F=b.allowedFileExtensions,B=c.isEmpty(F)?
"":F.join(", "),q=b.maxFilePreviewSize&&parseFloat(b.maxFilePreviewSize),K=g.length&&(!q||isNaN(q)),A=function(c,e,g,h){var f=d.extend(!0,{},b._getOutData({},{},a),{id:g,index:h}),k={id:g,index:h,file:e,files:a};b._previewDefault(e,g,!0);b.isUploadable&&(b.addToStack(void 0),setTimeout(function(){C(h+1)},100));b._initFileActions();b.removeFromPreviewOnError&&d("#"+g).remove();return b.isUploadable?b._showUploadError(c,f):b._showError(c,k)};b.loadedImages=[];b.totalImagesCount=0;d.each(a,function(a,
c){var d=b.fileTypeSettings.image;d&&d(c.type)&&b.totalImagesCount++});var C=function(d){c.isEmpty(e.attr("multiple"))&&(p=1);if(d>=p)b.isUploadable&&0<b.filestack.length?b._raise("filebatchselected",[b.getFileStack()]):b._raise("filebatchselected",[a]),f.removeClass("file-thumb-loading"),l.html("");else{var k=r+"-"+(z+d),v=a[d],E,I=v.name?b.slug(v.name):"";var G=(v.size||0)/1E3;var L="",U=c.objUrl.createObjectURL(v);var O=0;var u="";if(0<w)for(E=0;E<w;E++){var D=t[E];D=b.msgFileTypes[D]||D;u+=0===
E?D:", "+D}if(!1===I)C(d+1);else if(0===I.length){var J=b.msgInvalidFileName.replace("{name}",c.htmlEncode(v.name));b.isError=A(J,v,k,d)}else if(c.isEmpty(F)||(L=new RegExp("\\.("+F.join("|")+")$","i")),E=G.toFixed(2),0<b.maxFileSize&&G>b.maxFileSize)J=b.msgSizeTooLarge.replace("{name}",I).replace("{size}",E).replace("{maxSize}",b.maxFileSize),b.isError=A(J,v,k,d);else if(null!==b.minFileSize&&G<=c.getNum(b.minFileSize))J=b.msgSizeTooSmall.replace("{name}",I).replace("{size}",E).replace("{minSize}",
b.minFileSize),b.isError=A(J,v,k,d);else{if(!c.isEmpty(t)&&c.isArray(t)){for(E=0;E<t.length;E+=1)D=t[E],D=y[D],O+=D&&"function"===typeof D?D(v.type,v.name)?1:0:0;if(0===O){J=b.msgInvalidFileType.replace("{name}",I).replace("{types}",u);b.isError=A(J,v,k,d);return}}if(0===O&&!c.isEmpty(F)&&c.isArray(F)&&!c.isEmpty(L)&&(L=c.compare(I,L),O+=c.isEmpty(L)?0:L.length,0===O)){J=b.msgInvalidFileExtension.replace("{name}",I).replace("{extensions}",B);b.isError=A(J,v,k,d);return}b.showPreview?!K&&G>q?(b.addToStack(v),
f.addClass("file-thumb-loading"),b._previewDefault(v,k),b._initFileActions(),b._updateFileDetails(p),C(d+1)):(g.length&&void 0!==FileReader?(l.html(m.replace("{index}",d+1).replace("{files}",p)),f.addClass("file-thumb-loading"),h.onerror=function(a){b._errorHandler(a,I)},h.onload=function(a){b._previewFile(d,v,a,k,U);b._initFileActions()},h.onloadend=function(){J=n.replace("{index}",d+1).replace("{files}",p).replace("{percent}",50).replace("{name}",I);setTimeout(function(){l.html(J);b._updateFileDetails(p);
C(d+1)},100);b._raise("fileloaded",[v,k,d,h])},h.onprogress=function(a){a.lengthComputable&&(a=Math.ceil(a.loaded/a.total*100),J=n.replace("{index}",d+1).replace("{files}",p).replace("{percent}",a).replace("{name}",I),setTimeout(function(){l.html(J)},100))},G=y.text,O=y.image,G(v.type,I)?h.readAsText(v,b.textEncoding):O(v.type,I)?h.readAsDataURL(v):h.readAsArrayBuffer(v)):(b._previewDefault(v,k),setTimeout(function(){C(d+1);b._updateFileDetails(p)},100),b._raise("fileloaded",[v,k,d,h])),b.addToStack(v)):
(b.addToStack(v),setTimeout(function(){C(d+1)},100),b._raise("fileloaded",[v,k,d,h]))}}};C(0);b._updateFileDetails(p,!1)},_updateFileDetails:function(a){var b=this.$element,d=this.getFileStack();b=c.isIE(9)&&c.findFileName(b.val())||b[0].files[0]&&b[0].files[0].name||d.length&&d[0].name||"";b=this.slug(b);d=this.isUploadable?d.length:a;var g=this.previewCache.count()+d;d=1<d?this._getMsgSelected(g):b;this.isError?(this.$previewContainer.removeClass("file-thumb-loading"),this.$previewStatus.html(""),
this.$captionContainer.find(".kv-caption-icon").hide()):this._showFileIcon();this._setCaption(d,this.isError);this.$container.removeClass("file-input-new file-input-ajax-new");1===arguments.length&&this._raise("fileselect",[a,b]);this.previewCache.count()&&this._initPreviewActions()},_setThumbStatus:function(a,b){if(this.showPreview){var c="indicator"+b,d=c+"Title",h="file-preview-"+b.toLowerCase(),f=a.find(".file-upload-indicator"),l=this.fileActionSettings;a.removeClass("file-preview-success file-preview-error file-preview-loading");
"Error"===b&&a.find(".kv-file-upload").attr("disabled",!0);"Success"===b&&(a.find(".file-drag-handle").remove(),f.css("margin-left",0));f.html(l[c]);f.attr("title",l[d]);a.addClass(h)}},_setProgressCancelled:function(){this._setProgress(101,this.$progress,this.msgCancelled)},_setProgress:function(a,b,d){var e=Math.min(a,100),h=this.progressUploadThreshold,f=100>=a?this.progressTemplate:this.progressCompleteTemplate;f=100>e?this.progressTemplate:d?this.progressErrorTemplate:f;b=b||this.$progress;c.isEmpty(f)||
(h&&e>h&&100>=a?e=f.replace(/\{percent}/g,h).replace(/\{status}/g,this.msgUploadThreshold):(a=100<a?this.msgUploadEnd:e+"%",e=f.replace(/\{percent}/g,e).replace(/\{status}/g,a)),b.html(e),d&&b.find('[role="progressbar"]').html(d))},_setFileDropZoneTitle:function(){var a=this.$container.find(".file-drop-zone"),b=this.dropZoneTitle;if(this.isClickable){var d=c.isEmpty(this.$element.attr("multiple"))?this.fileSingle:this.filePlural;b+=this.dropZoneClickTitle.replace("{files}",d)}a.find("."+this.dropZoneTitleClass).remove();
this.isUploadable&&this.showPreview&&0!==a.length&&!(0<this.getFileStack().length)&&this.dropZoneEnabled&&(0===a.find(c.FRAMES).length&&c.isEmpty(this.defaultPreviewContent)&&a.prepend('<div class="'+this.dropZoneTitleClass+'">'+b+"</div>"),this.$container.removeClass("file-input-new"),c.addCss(this.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(a,b,c){var e=0;this._setProgress(b,d("#"+a).find(".file-thumb-progress"));this.uploadStatus[a]=b;d.each(this.uploadStatus,function(a,
b){e+=b});this._setProgress(Math.floor(e/c))},_validateMinCount:function(){var a=this.isUploadable?this.getFileStack().length:this.$element.get(0).files.length;return this.validateInitialCount&&0<this.minFileCount&&this._getFileCount(a-1)<this.minFileCount?(this._noFilesError({}),!1):!0},_getFileCount:function(a){if(this.validateInitialCount&&!this.overwriteInitial){var b=this.previewCache.count();a+=b}return a},_getFileName:function(a){return a&&a.name?this.slug(a.name):void 0},_getFileNames:function(a){return this.filenames.filter(function(b){return a?
void 0!==b:void 0!==b&&null!==b})},_setPreviewError:function(a,b,c){void 0!==b&&this.updateStack(b,c);this.removeFromPreviewOnError?a.remove():this._setThumbStatus(a,"Error")},_checkDimensions:function(a,b,d,g,h,f,l){var e=this[("Small"===b?"min":"max")+"Image"+f];!c.isEmpty(e)&&d.length&&(d=d[0],d="Width"===f?d.naturalWidth||d.width:d.naturalHeight||d.height,("Small"===b?d>=e:d<=e)||(b=this["msgImage"+f+b].replace("{name}",h).replace("{size}",e),this._showUploadError(b,l),this._setPreviewError(g,
a,null)))},_validateImage:function(a,b,c){var d=this,e=d.$preview,f,l,m,n=e.find("#"+a),r=n.attr("data-fileindex"),p=n.find("img");b=b||"Untitled";p.length&&d._handler(p,"load",function(){l=n.width();m=e.width();l>m&&(p.css("width","100%"),n.css("width","97%"));f={ind:r,id:a};d._checkDimensions(r,"Small",p,n,b,"Width",f);d._checkDimensions(r,"Small",p,n,b,"Height",f);d.resizeImage||(d._checkDimensions(r,"Large",p,n,b,"Width",f),d._checkDimensions(r,"Large",p,n,b,"Height",f));d._raise("fileimageloaded",
[a]);d.loadedImages.push({ind:r,img:p,thumb:n,pid:a,typ:c});d._validateAllImages()})},_validateAllImages:function(){var a,b={val:0},c=this.loadedImages.length;if(c===this.totalImagesCount&&(this._raise("fileimagesloaded"),this.resizeImage))for(a=0;a<this.loadedImages.length;a++)this._getResizedImage(this.loadedImages[a],b,c)},_getResizedImage:function(a,b,c){var e=this,f=d(a.img)[0],k=f.naturalWidth,l=f.naturalHeight,m=1;m=e.maxImageWidth||k;var n=e.maxImageHeight||l,r=!(!k||!l),p=e.imageCanvas,y=
e.imageCanvasContext,z=a.typ,t=a.pid,w=a.ind,F=a.thumb;var B=function(a,b,c){e.isUploadable?e._showUploadError(a,b,c):e._showError(a,b,c);e._setPreviewError(F,w)};if(!e.filestack[w]||!r||k<=m&&l<=n)if(r&&e.filestack[w]&&e._raise("fileimageresized",[t,w]),b.val++,b.val===c&&e._raise("fileimagesresized"),!r){B(e.msgImageResizeError,{id:t,index:w},"fileimageresizeerror");return}z=z||e.resizeDefaultImageType;a=k>m;r=l>n;m="width"===e.resizePreference?a?m/k:r?n/l:1:r?n/l:a?m/k:1;e._resetCanvas();k*=m;
l*=m;p.width=k;p.height=l;try{y.drawImage(f,0,0,k,l),p.toBlob(function(a){e.filestack[w]=a;e._raise("fileimageresized",[t,w]);b.val++;b.val===c&&e._raise("fileimagesresized",[void 0,void 0]);a instanceof Blob||B(e.msgImageResizeError,{id:t,index:w},"fileimageresizeerror")},z,e.resizeQuality)}catch(q){b.val++,b.val===c&&e._raise("fileimagesresized",[void 0,void 0]),f=e.msgImageResizeException.replace("{errors}",q.message),B(f,{id:t,index:w},"fileimageresizeexception")}},_initBrowse:function(a){this.showBrowse?
(this.$btnFile=a.find(".btn-file"),this.$btnFile.append(this.$element)):this.$element.hide()},_initCaption:function(){var a=this.initialCaption||"";if(this.overwriteInitial||c.isEmpty(a))return this.$caption.html(""),!1;this._setCaption(a);return!0},_setCaption:function(a,b){var e=this.getFileStack();if(this.$caption.length){if(b){var g=d("<div>"+this.msgValidationError+"</div>").text();var f=(f=e.length)?1===f&&e[0]?this._getFileNames()[0]:this._getMsgSelected(f):this._getMsgSelected(this.msgNo);
f='<span class="'+this.msgValidationErrorClass+'">'+this.msgValidationErrorIcon+(c.isEmpty(a)?f:a)+"</span>"}else{if(c.isEmpty(a))return;g=d("<div>"+a+"</div>").text();f=this._getLayoutTemplate("fileIcon")+g}this.$caption.html(f);this.$caption.attr("title",g);this.$captionContainer.find(".file-caption-ellipsis").attr("title",g)}},_createContainer:function(){var a=d(document.createElement("div")).attr({"class":"file-input file-input-new"}).html(this._renderMain());this.$element.before(a);this._initBrowse(a);
this.theme&&a.addClass("theme-"+this.theme);return a},_refreshContainer:function(){var a=this.$container;a.before(this.$element);a.html(this._renderMain());this._initBrowse(a)},_renderMain:function(){var a=this.isUploadable&&this.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",b=this.showClose?this._getLayoutTemplate("close"):"";a=this.showPreview?this._getLayoutTemplate("preview").replace(/\{class}/g,this.previewClass).replace(/\{dropClass}/g,a):"";var c=this.captionTemplate.replace(/\{class}/g,
(this.isDisabled?this.captionClass+" file-caption-disabled":this.captionClass)+" kv-fileinput-caption");return this.mainTemplate.replace(/\{class}/g,this.mainClass+(!this.showBrowse&&this.showCaption?" no-browse":"")).replace(/\{preview}/g,a).replace(/\{close}/g,b).replace(/\{caption}/g,c).replace(/\{upload}/g,this._renderButton("upload")).replace(/\{remove}/g,this._renderButton("remove")).replace(/\{cancel}/g,this._renderButton("cancel")).replace(/\{browse}/g,this._renderButton("browse"))},_renderButton:function(a){var b=
this._getLayoutTemplate("btnDefault"),d=this[a+"Class"],g=this[a+"Title"],f=this[a+"Icon"],k=this[a+"Label"],l=this.isDisabled?" disabled":"",m="button";switch(a){case "remove":if(!this.showRemove)return"";break;case "cancel":if(!this.showCancel)return"";d+=" hide";break;case "upload":if(!this.showUpload)return"";this.isUploadable&&!this.isDisabled?b=this._getLayoutTemplate("btnLink").replace("{href}",this.uploadUrl):m="submit";break;case "browse":if(!this.showBrowse)return"";b=this._getLayoutTemplate("btnBrowse");
break;default:return""}d+="browse"===a?" btn-file":" fileinput-"+a+" fileinput-"+a+"-button";c.isEmpty(k)||(k=' <span class="'+this.buttonLabelClass+'">'+k+"</span>");return b.replace("{type}",m).replace("{css}",d).replace("{title}",g).replace("{status}",l).replace("{icon}",f).replace("{label}",k)},_renderThumbProgress:function(){return'<div class="file-thumb-progress hide">'+this.progressTemplate.replace(/\{percent}/g,"0").replace(/\{status}/g,this.msgUploadBegin)+"</div>"},_renderFileFooter:function(a,
b,d,g){var e=this.fileActionSettings,f=e.showRemove,l=e.showDrag,m=e.showUpload,n=e.showZoom,r=this._getLayoutTemplate("footer"),p=g?e.indicatorError:e.indicatorNew;g=g?e.indicatorErrorTitle:e.indicatorNewTitle;b=this._getSize(b);a=this.isUploadable?r.replace(/\{actions}/g,this._renderFileActions(m,f,n,l,!1,!1,!1)).replace(/\{caption}/g,a).replace(/\{size}/g,b).replace(/\{width}/g,d).replace(/\{progress}/g,this._renderThumbProgress()).replace(/\{indicator}/g,p).replace(/\{indicatorTitle}/g,g):r.replace(/\{actions}/g,
this._renderFileActions(!1,!1,n,l,!1,!1,!1)).replace(/\{caption}/g,a).replace(/\{size}/g,b).replace(/\{width}/g,d).replace(/\{progress}/g,"").replace(/\{indicator}/g,p).replace(/\{indicatorTitle}/g,g);return a=c.replaceTags(a,this.previewThumbTags)},_renderFileActions:function(a,b,c,d,f,k,l,m){if(!(a||b||c||d))return"";k=!1===k?"":' data-url="'+k+'"';var e=!1===l?"":' data-key="'+l+'"',g=l="",h="",y="",z=this._getLayoutTemplate("actions"),t=this.fileActionSettings,w=this.otherActionButtons.replace(/\{dataKey}/g,
e);f=f?t.removeClass+" disabled":t.removeClass;b&&(l=this._getLayoutTemplate("actionDelete").replace(/\{removeClass}/g,f).replace(/\{removeIcon}/g,t.removeIcon).replace(/\{removeTitle}/g,t.removeTitle).replace(/\{dataUrl}/g,k).replace(/\{dataKey}/g,e));a&&(g=this._getLayoutTemplate("actionUpload").replace(/\{uploadClass}/g,t.uploadClass).replace(/\{uploadIcon}/g,t.uploadIcon).replace(/\{uploadTitle}/g,t.uploadTitle));c&&(h=this._getLayoutTemplate("actionZoom").replace(/\{zoomClass}/g,t.zoomClass).replace(/\{zoomIcon}/g,
t.zoomIcon).replace(/\{zoomTitle}/g,t.zoomTitle));d&&m&&(a="drag-handle-init "+t.dragClass,y=this._getLayoutTemplate("actionDrag").replace(/\{dragClass}/g,a).replace(/\{dragTitle}/g,t.dragTitle).replace(/\{dragIcon}/g,t.dragIcon));return z.replace(/\{delete}/g,l).replace(/\{upload}/g,g).replace(/\{zoom}/g,h).replace(/\{drag}/g,y).replace(/\{other}/g,w)},_browse:function(a){this._raise("filebrowse");a&&a.isDefaultPrevented()||(this.isError&&!this.isUploadable&&this.clear(),this.$captionContainer.focus())},
_change:function(a){var b=this.$element;if(!this.isUploadable&&c.isEmpty(b.val())&&this.fileInputCleared)this.fileInputCleared=!1;else{this.fileInputCleared=!1;var e=1<arguments.length;var f=this.isUploadable;var h=0;var k=e?a.originalEvent.dataTransfer.files:b.get(0).files,l=this.filestack.length;b=c.isEmpty(b.attr("multiple"))&&0<l;var m=0;this.reader=null;this._resetUpload();this._hideFileIcon();this.isUploadable&&this.$container.find(".file-drop-zone ."+this.dropZoneTitleClass).remove();if(e)for(e=
[];k[h];){var n=k[h];n.type||0!==n.size%4096?e.push(n):m++;h++}else e=void 0===a.target.files?a.target&&a.target.value?[{name:a.target.value.replace(/^.+\\/,"")}]:[]:a.target.files;if(c.isEmpty(e)||0===e.length)f||this.clear(),this._showFolderError(m),this._raise("fileselectnone");else{this._resetErrors();n=e.length;h=this._getFileCount(this.isUploadable?this.getFileStack().length+n:n);if(0<this.maxFileCount&&h>this.maxFileCount){if(!this.autoReplace||n>this.maxFileCount){f=this.autoReplace&&n>this.maxFileCount?
n:h;f=this.msgFilesTooMany.replace("{m}",this.maxFileCount).replace("{n}",f);l=d.extend(!0,{},this._getOutData({},{},k),{id:null,index:null});k={id:null,index:null,file:null,files:k};this.isError=this.isUploadable?this._showUploadError(f,l):this._showError(f,k);this.$captionContainer.find(".kv-caption-icon").hide();this._setCaption("",!0);this.$container.removeClass("file-input-new file-input-ajax-new");return}h>this.maxFileCount&&this._resetPreviewThumbs(f)}else!f||b?(this._resetPreviewThumbs(!1),
b&&this.clearStack()):!f||0!==l||this.previewCache.count()&&!this.overwriteInitial||this._resetPreviewThumbs(!0);this.isPreviewable?this._readFiles(e):this._updateFileDetails(1);this._showFolderError(m)}}},_abort:function(a){return this.ajaxAborted&&"object"===typeof this.ajaxAborted&&void 0!==this.ajaxAborted.message?(a=d.extend(!0,{},this._getOutData(),a),a.abortData=this.ajaxAborted.data||{},a.abortMessage=this.ajaxAborted.message,this.cancel(),this._setProgress(101,this.$progress,this.msgCancelled),
this._showUploadError(this.ajaxAborted.message,a,"filecustomerror"),!0):!1},_resetFileStack:function(){var a=this,b=0,c=[],f=[];a._getThumbs().each(function(){var e=d(this),g=e.attr("data-fileindex"),l=a.filestack[g];-1!==g&&(void 0!==l?(c[b]=l,f[b]=a._getFileName(l),e.attr({id:a.previewInitId+"-"+b,"data-fileindex":b}),b++):e.attr({"data-fileindex":"-1"}))});a.filestack=c;a.filenames=f},clearStack:function(){this.filestack=[];this.filenames=[];return this.$element},updateStack:function(a,b){this.filestack[a]=
b;this.filenames[a]=this._getFileName(b);return this.$element},addToStack:function(a){this.filestack.push(a);this.filenames.push(this._getFileName(a));return this.$element},getFileStack:function(a){return this.filestack.filter(function(b){return a?void 0!==b:void 0!==b&&null!==b})},getFilesCount:function(){var a=this.isUploadable?this.getFileStack().length:this.$element.get(0).files.length;return this._getFileCount(a)},lock:function(){this._resetErrors();this.disable();this.showRemove&&c.addCss(this.$container.find(".fileinput-remove"),
"hide");this.showCancel&&this.$container.find(".fileinput-cancel").removeClass("hide");this._raise("filelock",[this.filestack,this._getExtraData()]);return this.$element},unlock:function(a){void 0===a&&(a=!0);this.enable();this.showCancel&&c.addCss(this.$container.find(".fileinput-cancel"),"hide");this.showRemove&&this.$container.find(".fileinput-remove").removeClass("hide");a&&this._resetFileStack();this._raise("fileunlock",[this.filestack,this._getExtraData()]);return this.$element},cancel:function(){var a=
this,b=a.ajaxRequests,c=b.length,f;if(0<c)for(f=0;f<c;f+=1)a.cancelling=!0,b[f].abort();a._setProgressCancelled();a._getThumbs().each(function(){var b=d(this),c=b.attr("data-fileindex");b.removeClass("file-uploading");void 0!==a.filestack[c]&&(b.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),b.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled"));a.unlock()});return a.$element},clear:function(){var a=this;if(a._raise("fileclear")){a.$btnUpload.removeAttr("disabled");
a._getThumbs().find("video,audio,img").each(function(){c.cleanMemory(d(this))});a._resetUpload();a.clearStack();a._clearFileInput();a._resetErrors(!0);if(a._hasInitialPreview())a._showFileIcon(),a._resetPreview(),a._initPreviewActions(),a.$container.removeClass("file-input-new");else{a._getThumbs().each(function(){a._clearObjects(d(this))});a.isUploadable&&(a.previewCache.data={});a.$preview.html("");var b=!a.overwriteInitial&&0<a.initialCaption.length?a.initialCaption:"";a.$caption.html(b);a.$caption.attr("title",
"");c.addCss(a.$container,"file-input-new");a._validateDefaultPreview()}0===a.$container.find(c.FRAMES).length&&(a._initCaption()||a.$captionContainer.find(".kv-caption-icon").hide());a._hideFileIcon();a._raise("filecleared");a.$captionContainer.focus();a._setFileDropZoneTitle();return a.$element}},reset:function(){if(this._raise("filereset"))return this._resetPreview(),this.$container.find(".fileinput-filename").text(""),c.addCss(this.$container,"file-input-new"),(this.$preview.find(c.FRAMES).length||
this.isUploadable&&this.dropZoneEnabled)&&this.$container.removeClass("file-input-new"),this._setFileDropZoneTitle(),this.clearStack(),this.formdata={},this.$element},disable:function(){this.isDisabled=!0;this._raise("filedisabled");this.$element.attr("disabled","disabled");this.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled");this.$container.find(".btn-file, .fileinput-upload, .file-preview-frame button").attr("disabled",!0);this._initDragDrop();return this.$element},enable:function(){this.isDisabled=
!1;this._raise("fileenabled");this.$element.removeAttr("disabled");this.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled");this.$container.find(".btn-file,  .fileinput-upload, .file-preview-frame button").removeAttr("disabled");this._initDragDrop();return this.$element},upload:function(){var a=this.getFileStack().length,b={},e=!d.isEmptyObject(this._getExtraData());if(this.isUploadable&&!this.isDisabled)if(0<this.minFileCount&&this._getFileCount(a)<this.minFileCount)this._noFilesError(b);
else if(this._resetUpload(),0!==a||e)if(this.$progress.removeClass("hide"),this.uploadCount=0,this.uploadStatus={},this.uploadLog=[],this.lock(),this._setProgress(2),0===a&&e)this._uploadExtraOnly();else if(a=this.filestack.length,this.hasInitData=!1,this.uploadAsync){b=this._getOutData();this._raise("filebatchpreupload",[b]);this.fileBatchCompleted=!1;this.uploadCache={content:[],config:[],tags:[],append:!0};this.uploadAsyncCount=this.getFileStack().length;for(b=0;b<a;b++)this.uploadCache.content[b]=
null,this.uploadCache.config[b]=null,this.uploadCache.tags[b]=null;this.$preview.find(".file-preview-initial").removeClass(c.SORT_CSS);this._initSortable();this.cacheInitialPreview=this.getPreview();for(b=0;b<a;b++)void 0!==this.filestack[b]&&this._uploadSingle(b,this.filestack,!0)}else return this._uploadBatch(),this.$element;else this._showUploadError(this.msgUploadEmpty)},destroy:function(){var a=this.$form,b=this.$container,c=this.$element,f=this.namespace;d(document).off(f);d(window).off(f);
a&&a.length&&a.off(f);c.insertBefore(b).off(f).removeData();b.off().remove();return c},refresh:function(a){var b=this.$element;a=a?d.extend(!0,{},this.options,a):this.options;this.destroy();b.fileinput(a);b.val()&&b.trigger("change.fileinput");return b},zoom:function(a){var b=d("#"+a),e=this.$modal;b.length?(c.initModal(e),e.html(this._getModalContent()),this._setZoomContent(b),e.modal("show"),this._initZoomButtons()):this._log('Cannot zoom to detailed preview! Invalid frame with id: "'+a+'".')},
getPreview:function(){return{content:this.initialPreview,config:this.initialPreviewConfig,tags:this.initialPreviewThumbTags}}};d.fn.fileinput=function(a){if(c.hasFileAPISupport()||c.isIE(9)){var b=Array.apply(null,arguments),e=[];b.shift();this.each(function(){var g=d(this),h=g.data("fileinput"),k="object"===typeof a&&a,l=k.theme||g.data("theme"),m={},n={},r=k.language||g.data("language")||d.fn.fileinput.defaults.language||"en";h||(l&&(n=d.fn.fileinputThemes[l]||{}),"en"===r||c.isEmpty(d.fn.fileinputLocales[r])||
(m=d.fn.fileinputLocales[r]||{}),h=d.extend(!0,{},d.fn.fileinput.defaults,n,d.fn.fileinputLocales.en,m,k,g.data()),h=new f(this,h),g.data("fileinput",h));"string"===typeof a&&e.push(h[a].apply(h,b))});switch(e.length){case 0:return this;case 1:return e[0];default:return e}}};d.fn.fileinput.defaults={language:"en",showCaption:!0,showBrowse:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,browseOnZoneClick:!1,autoReplace:!1,previewClass:"",captionClass:"",
frameClass:"krajee-default",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:!0,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:!1,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',
toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-default btn-header-toggle",fullscreen:"btn btn-default",borderless:"btn btn-default",close:"btn btn-default"},preferIconicPreview:!1,preferIconicZoomPreview:!1,allowedPreviewTypes:void 0,
allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default",
cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:!0,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",minFileSize:0,maxFileSize:0,maxFilePreviewSize:256E4,minFileCount:0,maxFileCount:0,validateInitialCount:!1,
msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",progressErrorClass:"progress-bar progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,
elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class="close kv-error-close">&times;</span>',slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0};d.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",
cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgZoomModalHeading:"Detailed Preview",msgSizeTooSmall:'File "{name}" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",
msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',
msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadEmpty:"No valid data available for upload.",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",
msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',
msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",
previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"}};d.fn.fileinput.Constructor=f;d(document).ready(function(){var a=d("input.file[type=file]");a.length&&a.fileinput()})});
(function(d){d.fn.fileinputLocales.fr={fileSingle:"fichier",filePlural:"fichiers",browseLabel:"Parcourir&hellip;",removeLabel:"Retirer",removeTitle:"Retirer les fichiers s\u00e9lectionn\u00e9s",cancelLabel:"Annuler",cancelTitle:"Annuler l'envoi en cours",uploadLabel:"Transf\u00e9rer",uploadTitle:"Transf\u00e9rer les fichiers s\u00e9lectionn\u00e9s",msgNo:"Non",msgNoFilesSelected:"",msgCancelled:"Annul\u00e9",msgZoomModalHeading:"Aper\u00e7u d\u00e9taill\u00e9",msgSizeTooSmall:'File "{name}" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',
msgSizeTooLarge:'Le fichier "{name}" (<b>{size} Ko</b>) d\u00e9passe la taille maximale autoris\u00e9e qui est de <b>{maxSize} Ko</b>.',msgFilesTooLess:"Vous devez s\u00e9lectionner au moins <b>{n}</b> {files} \u00e0 transmettre.",msgFilesTooMany:"Le nombre de fichier s\u00e9lectionn\u00e9 <b>({n})</b> d\u00e9passe la quantit\u00e9 maximale autoris\u00e9e qui est de <b>{m}</b>.",msgFileNotFound:'Le fichier "{name}" est introuvable !',msgFileSecured:'Des restrictions de s\u00e9curit\u00e9 vous emp\u00eachent d\'acc\u00e9der au fichier "{name}".',
msgFileNotReadable:'Le fichier "{name}" est illisble.',msgFilePreviewAborted:'Pr\u00e9visualisation du fichier "{name}" annul\u00e9e.',msgFilePreviewError:'Une erreur est survenue lors de la lecture du fichier "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Type de document invalide pour "{name}". Seulement les documents de type "{types}" sont autoris\u00e9s.',msgInvalidFileExtension:'Extension invalide pour le fichier "{name}". Seules les extensions "{extensions}" sont autoris\u00e9es.',
msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"Le t\u00e9l\u00e9chargement du fichier a \u00e9t\u00e9 interrompu",msgUploadThreshold:"Processing...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadEmpty:"No valid data available for upload.",msgValidationError:"Erreur de validation",msgLoading:"Transmission du fichier {index} sur {files}&hellip;",msgProgress:"Transmission du fichier {index} sur {files} - {name} - {percent}% faits.",
msgSelected:"{n} {files} s\u00e9lectionn\u00e9(s)",msgFoldersNotAllowed:"Glissez et d\u00e9posez uniquement des fichiers ! {n} r\u00e9pertoire(s) exclu(s).",msgImageWidthSmall:'Largeur de fichier image "{name}" doit \u00eatre d\'au moins {size} px.',msgImageHeightSmall:'Hauteur de fichier image "{name}" doit \u00eatre d\'au moins {size} px.',msgImageWidthLarge:'Largeur de fichier image "{name}" ne peut pas d\u00e9passer {size} px.',msgImageHeightLarge:'Hauteur de fichier image "{name}" ne peut pas d\u00e9passer {size} px.',
msgImageResizeError:"Impossible d'obtenir les dimensions de l'image \u00e0 redimensionner.",msgImageResizeException:"Erreur lors du redimensionnement de l'image.<pre>{errors}</pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Glissez et d\u00e9posez les fichiers ici&hellip;",
dropZoneClickTitle:"<br>(or click to select {files})",fileActionSettings:{removeTitle:"Supprimer le fichier",uploadTitle:"T\u00e9l\u00e9charger un fichier",zoomTitle:"Voir les d\u00e9tails",dragTitle:"Move / Rearrange",indicatorNewTitle:"Pas encore t\u00e9l\u00e9charg\u00e9",indicatorSuccessTitle:"Post\u00e9",indicatorErrorTitle:"Ajouter erreur",indicatorLoadingTitle:"ajout ..."},previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",
borderless:"Toggle borderless mode",close:"Close detailed preview"}}})(window.jQuery);
(function(d){d.fn.fileinputLocales.es={fileSingle:"archivo",filePlural:"archivos",browseLabel:"Examinar &hellip;",removeLabel:"Quitar",removeTitle:"Quitar archivos seleccionados",cancelLabel:"Cancelar",cancelTitle:"Abortar la subida en curso",uploadLabel:"Subir archivo",uploadTitle:"Subir archivos seleccionados",msgNo:"No",msgNoFilesSelected:"No hay archivos seleccionados",msgCancelled:"Cancelado",msgZoomModalHeading:"Vista previa detallada",msgSizeTooSmall:'El archivo "{name}" (<b>{size} KB</b>) es demasiado peque\u00f1o y debe ser mayor de <b>{minSize} KB</b>.',
msgSizeTooLarge:'El archivo "{name}" (<b>{size} KB</b>) excede el tama\u00f1o m\u00e1ximo permitido de <b>{maxSize} KB</b>.',msgFilesTooLess:"Debe seleccionar al menos <b>{n}</b> {files} a cargar.",msgFilesTooMany:"El n\u00famero de archivos seleccionados a cargar <b>({n})</b> excede el l\u00edmite m\u00e1ximo permitido de <b>{m}</b>.",msgFileNotFound:'Archivo "{name}" no encontrado.',msgFileSecured:'No es posible acceder al archivo "{name}" porque estar\u00e1 siendo usado por otra aplicaci\u00f3n o no tengamos permisos de lectura.',
msgFileNotReadable:'No es posible acceder al archivo "{name}".',msgFilePreviewAborted:'Previsualizaci\u00f3n del archivo "{name}" cancelada.',msgFilePreviewError:'Ocurri\u00f3 un error mientras se le\u00eda el archivo "{name}".',msgInvalidFileName:'Caracteres no v\u00e1lidos o no soportados en el nombre de archivo "{name}".',msgInvalidFileType:'Tipo de archivo no v\u00e1lido para "{name}". S\u00f3lo se permiten archivos de tipo "{types}".',msgInvalidFileExtension:'Extensi\u00f3n de archivo no v\u00e1lido para "{name}". S\u00f3lo se permiten archivos "{extensions}".',
msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"La carga de archivos se ha cancelado",msgUploadThreshold:"Procesando...",msgUploadBegin:"Inicializando...",msgUploadEnd:"Hecho",msgUploadEmpty:"No existen datos v\u00e1lidos para el env\u00edo.",msgValidationError:"Error de validaci\u00f3n",msgLoading:"Subiendo archivo {index} de {files} &hellip;",msgProgress:"Subiendo archivo {index} de {files} - {name} - {percent}% completado.",
msgSelected:"{n} {files} seleccionado(s)",msgFoldersNotAllowed:"Arrastre y suelte \u00fanicamente archivos. Omitida(s) {n} carpeta(s).",msgImageWidthSmall:'El ancho de la imagen "{name}" debe ser de al menos {size} px.',msgImageHeightSmall:'La altura de la imagen "{name}" debe ser de al menos {size} px.',msgImageWidthLarge:'El ancho de la imagen "{name}" no puede exceder de {size} px.',msgImageHeightLarge:'La altura de la imagen "{name}" no puede exceder de {size} px.',msgImageResizeError:"No se pudieron obtener las dimensiones de la imagen para cambiar el tama\u00f1o.",
msgImageResizeException:"Error al cambiar el tama\u00f1o de la imagen.<pre>{errors}</pre>",msgAjaxError:"Algo ha ido mal con la operaci\u00f3n {operation}. Por favor, int\u00e9ntelo de nuevo mas tarde.",msgAjaxProgressError:"La operaci\u00f3n {operation} ha fallado",ajaxOperations:{deleteThumb:"Archivo borrado",uploadThumb:"Archivo subido",uploadBatch:"Datos subidos en lote",uploadExtra:"Datos do formulario subidos "},dropZoneTitle:"Arrastre y suelte aqu\u00ed los archivos &hellip;",dropZoneClickTitle:"<br>(o haga clic para seleccionar {files})",
fileActionSettings:{removeTitle:"Eliminar archivo",uploadTitle:"Subir archivo",zoomTitle:"Ver detalles",dragTitle:"Mover / Reordenar",indicatorNewTitle:"No subido todav\u00eda",indicatorSuccessTitle:"Subido",indicatorErrorTitle:"Error al subir",indicatorLoadingTitle:"Subiendo..."},previewZoomButtonTitles:{prev:"Ver archivo anterior",next:"Ver archivo siguiente",toggleheader:"Mostrar encabezado",fullscreen:"Mostrar a pantalla completa",borderless:"Activar el modo sin bordes",close:"Cerrar vista detallada"}}})(window.jQuery);
(function(d){d.fn.fileinputThemes.explorer={layoutTemplates:{preview:'<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <table class="table table-bordered table-hover"><tbody class="file-preview-thumbnails">\n    </tbody></table>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',footer:'<td class="file-details-cell"><div class="explorer-caption" title="{caption}">{caption}</div> {size}{progress}</td><td class="file-actions-cell">{indicator} {actions}</td>',
actions:'{drag}\n<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload} {delete} {zoom} {other}     </div>\n</div>',zoomCache:'<tr style="display:none" class="kv-zoom-cache-theme"><td><table class="kv-zoom-cache">{zoomContent}</table></td></tr>'},previewMarkupTags:{tagBefore1:'<tr class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"><td class="kv-file-content">\n',tagBefore2:'<tr class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}" title="{caption}"><td class="kv-file-content">\n',
tagAfter:"</td>\n{footer}</tr>\n"},previewSettings:{image:{height:"60px"},html:{width:"100px",height:"60px"},text:{width:"100px",height:"60px"},video:{width:"auto",height:"60px"},audio:{width:"auto",height:"60px"},flash:{width:"100%",height:"60px"},object:{width:"100%",height:"60px"},pdf:{width:"100px",height:"60px"},other:{width:"100%",height:"60px"}},frameClass:"explorer-frame"}})(window.jQuery);
