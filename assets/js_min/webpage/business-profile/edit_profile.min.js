$(document).ready(function(){$(".business-info-form-edit").css("display","block");$(".contact-info-form-edit").css("display","none");$(".description-form-edit").css("display","none");$(".bus-image-form-edit").css("display","none");$("ul.left-form-each li").removeClass("active init");$("li.business_info_li").addClass("active init")});
$(".business_info_li").on("click",function(){$(".business-info-form-edit").css("display","block");$(".contact-info-form-edit").css("display","none");$(".description-form-edit").css("display","none");$(".bus-image-form-edit").css("display","none");$("ul.left-form-each li").removeClass("active init");$("li.business_info_li").addClass("active init")});
$(".contact_info_li").on("click",function(){$(".business-info-form-edit").css("display","none");$(".contact-info-form-edit").css("display","block");$(".description-form-edit").css("display","none");$(".bus-image-form-edit").css("display","none");$("ul.left-form-each li").removeClass("active init");$("li.contact_info_li").addClass("active init")});
$(".description_li").on("click",function(){$(".business-info-form-edit").css("display","none");$(".contact-info-form-edit").css("display","none");$(".description-form-edit").css("display","block");$(".bus-image-form-edit").css("display","none");$("ul.left-form-each li").removeClass("active init");$("li.description_li").addClass("active init")});
$(".bus_image_li").on("click",function(){$(".business-info-form-edit").css("display","none");$(".contact-info-form-edit").css("display","none");$(".description-form-edit").css("display","none");$(".bus-image-form-edit").css("display","block");$("ul.left-form-each li").removeClass("active init");$("li.bus_image_li").addClass("active init")});
$(document).ready(function(){$("#country").on("change",function(){var a=$(this).val();a?$.ajax({type:"POST",url:base_url+"business_profile/ajax_data",data:"country_id="+a,success:function(a){$("#state").html(a);$("#city").html('<option value="">Select state first</option>')}}):($("#state").html('<option value="">Select country first</option>'),$("#city").html('<option value="">Select state first</option>'))});$("#state").on("change",function(){var a=$(this).val();a?$.ajax({type:"POST",url:base_url+
"business_profile/ajax_data",data:"state_id="+a,success:function(a){$("#city").html(a)}}):$("#city").html('<option value="">Select state first</option>')})});function checkvalue(){var a=$.trim(document.getElementById("tags").value),b=$.trim(document.getElementById("searchplace").value);if(""==a&&""==b)return!1}$.validator.addMethod("regx",function(a,b,c){return a?c.test(a):!0},"Only space, only number and only special characters are not allow");
$(document).ready(function(){$("#businessinfo").validate({rules:{companyname:{required:!0,regx:/^[-@./#&+,\w\s]*[a-zA-Z][a-zA-Z0-9]*/},country:{required:!0},state:{required:!0},business_address:{required:!0,regx:/^[-@./#&+,\w\s]*[a-zA-Z][a-zA-Z0-9]*/}},messages:{companyname:{required:company_name_validation},country:{required:country_validation},state:{required:state_validation},business_address:{required:address_validation}}});$("#contactinfo").validate({rules:{contactname:{required:!0,regx:/^[a-zA-Z\s]*[a-zA-Z]/},
contactmobile:{required:!0,number:!0,minlength:8,maxlength:15},email:{required:!0,email:!0,remote:{url:base_url+"business_profile/check_email",type:"post",data:{email:function(){return $("#email").val()},get_csrf_token_name:get_csrf_hash}}}},messages:{contactname:{required:"Person name is required."},contactmobile:{required:"Mobile number is required."},email:{required:"Email id is required.",email:"Please enter valid email id.",remote:"Email already exists."}}});$("#businessdis").validate({rules:{business_type:{required:!0},
industriyal:{required:!0},subindustriyal:{required:!0},business_details:{required:!0,regx:/^[-@./#&+,\w\s]*[a-zA-Z][a-zA-Z0-9]*/}},messages:{business_type:{required:"Business type is required."},industriyal:{required:"Industrial is required."},subindustriyal:{required:"Subindustrial is required."},business_details:{required:"Business details is required."}}})});$(".alert").delay(3200).fadeOut(300);
function check(){var a=$.trim(document.getElementById("tags1").value),b=$.trim(document.getElementById("searchplace1").value);if(""==a&&""==b)return!1}$(document).ready(function(){var a=$("#business_address"),b=a.val().length;a[0].focus();a[0].setSelectionRange(b,b);a=$("#companyname");b=a.val().length;a[0].focus();a[0].setSelectionRange(b,b)});$(document).ready(function(){var a=$("#contactname"),b=a.val().length;a[0].focus();a[0].setSelectionRange(b,b)});
function busSelectCheck(a){var b=document.getElementById("industriyal").value,c=document.getElementById("business_type").value;a?document.getElementById("busOption").value==a.value?(document.getElementById("busDivCheck").style.display="block",document.getElementById("bustype").style.display="block",document.getElementById("other-business").style.display="block",$("#busDivCheck .half-width label").html('Other Business Type:<span style="color:red;" >*</span>')):(document.getElementById("busDivCheck").style.display=
"none",0==b&&0==c&&($("#busDivCheck .half-width label").text(""),$("#bustype-error").remove()),0==b&&0!=c&&($("#busDivCheck .half-width label").text(""),$("#bustype-error").remove())):(document.getElementById("bustype").style.display="none",$("#busDivCheck .half-width label").text(""))}
function indSelectCheck(a){a?(indOptionValue=document.getElementById("indOption").value,indOptionValue==a.value?(document.getElementById("indDivCheck").style.display="block",document.getElementById("indtype").style.display="block",document.getElementById("other-category").style.display="block"):document.getElementById("indDivCheck").style.display="none"):document.getElementById("indDivCheck").style.display="none"}
$(document).ready(function(){$("#industriyal").on("change",function(){var a=$(this).val();a?$.ajax({type:"POST",url:base_url+"business_profile/ajax_data",data:"industry_id="+a,success:function(a){$("#subindustriyal").html(a)}}):$("#subindustriyal").html('<option value="">Select industriyal first</option>')})});$(document).ready(function(){var a=$("#business_details"),b=a.val().length;a[0].focus();a[0].setSelectionRange(b,b)});$(".alert").delay(3200).fadeOut(300);
function delete_job_exp(a){$.ajax({type:"POST",url:base_url+"business_profile/bus_img_delete",data:"grade_id="+a,success:function(b){b&&$(".job_work_edit_"+a).remove()}})}$("#image1").change(function(){readURL(this)});function validate(a){var b=document.getElementById("image1").files;if(""!=b)for(var c=0;c<b.length;c++){var d=b[c].name.split(".").pop();1!=-1<$.inArray(d,["jpg","jpeg","png","gif","PNG"])&&($(".bus_image").html("Please select only Image File."),a.preventDefault())}}
function removemsg(){$(".bus_image").html(" ");document.getElementById("image1").value=null}
jQuery(document).ready(function(a){a("#businessinfo").ajaxForm({beforeSend:function(){},uploadProgress:function(a,c,d,e){},success:function(){},complete:function(b){a(".business-info-form-edit").css("display","none");a(".contact-info-form-edit").css("display","block");a(".description-form-edit").css("display","none");a(".bus-image-form-edit").css("display","none");a("ul.left-form-each li").removeClass("active init");a("li.contact_info_li").addClass("active init")}});return!1});
jQuery(document).ready(function(a){a("#contactinfo").ajaxForm({beforeSend:function(){},uploadProgress:function(a,c,d,e){},success:function(){},complete:function(b){a(".business-info-form-edit").css("display","none");a(".contact-info-form-edit").css("display","none");a(".description-form-edit").css("display","block");a(".bus-image-form-edit").css("display","none");a("ul.left-form-each li").removeClass("active init");a("li.description_li").addClass("active init")}});return!1});
jQuery(document).ready(function(a){a("#businessdis").ajaxForm({beforeSend:function(){},uploadProgress:function(a,c,d,e){},success:function(){},complete:function(b){a(".business-info-form-edit").css("display","none");a(".contact-info-form-edit").css("display","none");a(".description-form-edit").css("display","none");a(".bus-image-form-edit").css("display","block");a("ul.left-form-each li").removeClass("active init");a("li.bus_image_li").addClass("active init")}});return!1});
jQuery(document).ready(function(a){a("#businessimage").ajaxForm({beforeSend:function(){},uploadProgress:function(a,c,d,e){},success:function(){},complete:function(a){window.location=base_url+"business-profile/home"}});return!1});
$(function(){$(".tags").bind("keydown",function(a){a.keyCode===$.ui.keyCode.TAB&&$(this).autocomplete("instance").menu.active&&a.preventDefault()}).autocomplete({minLength:1,source:function(a,b){$.getJSON(base_url+"business_profile/ajax_business_skill",{term:a.term.split(/,\s*/).pop()},b)},focus:function(){return!1},select:function(a,b){var c=this.value.split(/,\s*/);1>=c.length?(c.pop(),c.push(b.item.value),c.push(""),this.value=c.join("")):(c=c.pop(),$(this).val(this.value.substr(0,this.value.length-
c.length-2)),$(this).effect("highlight",{},1E3),$(this).attr("style","border: solid 1px red;"));return!1}});$(".searchplace").bind("keydown",function(a){a.keyCode===$.ui.keyCode.TAB&&$(this).autocomplete("instance").menu.active&&a.preventDefault()}).autocomplete({minLength:1,source:function(a,b){$.getJSON(base_url+"business_profile/ajax_location_data",{term:a.term.split(/,\s*/).pop()},b)},focus:function(){return!1},select:function(a,b){var c=this.value.split(/,\s*/);1>=c.length?(c.pop(),c.push(b.item.value),
c.push(""),this.value=c.join("")):(c=c.pop(),$(this).val(this.value.substr(0,this.value.length-c.length-2)),$(this).effect("highlight",{},1E3),$(this).attr("style","border: solid 1px red;"));return!1}})});$uploadCrop1=$("#upload-demo-one").croppie({enableExif:!0,viewport:{width:157,height:157,type:"square"},boundary:{width:257,height:257}});
$("#upload-one").on("change",function(){document.getElementById("upload-demo-one").style.display="block";var a=new FileReader;a.onload=function(a){$uploadCrop1.croppie("bind",{url:a.target.result}).then(function(){console.log("jQuery bind complete")})};a.readAsDataURL(this.files[0])});
$(document).ready(function(){$("#userimage").validate({rules:{profilepic:{required:!0}},messages:{profilepic:{required:"Photo required"}},submitHandler:function(){$uploadCrop1.croppie("result",{type:"canvas",size:"viewport"}).then(function(a){$.ajax({url:base_url+"business_profile/user_image_insert_new",type:"POST",data:{image:a},beforeSend:function(){$("#profile_loader").show()},complete:function(){},success:function(a){$("#profile_loader").hide();$("#bidmodal-2").modal("hide");$(".user-pic").html(a);
document.getElementById("upload-one").value=null;document.getElementById("upload-demo-one").value=""}})})}})});function updateprofilepopup(a){document.getElementById("upload-demo-one").style.display="none";document.getElementById("upload-one").value=null;$("#bidmodal-2").modal("show")}
function readURL(a){if(a.files&&a.files[0]){var b=new FileReader;b.onload=function(a){document.getElementById("preview").style.display="block";$("#preview").attr("src",a.target.result)};b.readAsDataURL(a.files[0])}}$("#profilepic").change(function(){profile=this.files;if(profile[0].name.match(/.(jpg|jpeg|png|gif)$/i))readURL(this);else return $("#profilepic").val(""),picpopup(),!1});
function picpopup(){$(".biderror .mes").html("<div class='pop_content'>This is not valid file. Please Uplode valid Image File.");$("#bidmodal").modal("show")}$(document).on("keydown",function(a){27===a.keyCode&&$("#bidmodal-2").modal("hide")});function myFunction(){document.getElementById("upload-demo").style.visibility="hidden";document.getElementById("upload-demo-i").style.visibility="hidden";document.getElementById("message1").style.display="block"}
function showDiv(){document.getElementById("row1").style.display="block";document.getElementById("row2").style.display="none"}$uploadCrop=$("#upload-demo").croppie({enableExif:!0,viewport:{width:1250,height:350,type:"square"},boundary:{width:1250,height:350}});
$(".upload-result").on("click",function(a){document.getElementById("upload-demo").style.visibility="hidden";document.getElementById("upload-demo-i").style.visibility="hidden";document.getElementById("message1").style.display="block";$uploadCrop.croppie("result",{type:"canvas",size:"viewport"}).then(function(a){if(11350==a.length)return document.getElementById("row2").style.display="block",document.getElementById("row1").style.display="none",document.getElementById("message1").style.display="none",
document.getElementById("upload-demo").style.visibility="visible",document.getElementById("upload-demo-i").style.visibility="visible",!1;$.ajax({url:base_url+"business_profile/ajaxpro",type:"POST",data:{image:a},success:function(a){$("#row2").html(a);document.getElementById("row2").style.display="block";document.getElementById("row1").style.display="none";document.getElementById("message1").style.display="none";document.getElementById("upload-demo").style.visibility="visible";document.getElementById("upload-demo-i").style.visibility=
"visible"}})})});$(".cancel-result").on("click",function(a){document.getElementById("row2").style.display="block";document.getElementById("row1").style.display="none";document.getElementById("message1").style.display="none"});$("#upload").on("change",function(){var a=new FileReader;a.onload=function(a){$uploadCrop.croppie("bind",{url:a.target.result}).then(function(){console.log("jQuery bind complete")})};a.readAsDataURL(this.files[0])});
$("#upload").on("change",function(){var a=new FormData;a.append("image",$("#upload")[0].files[0]);files=this.files;size=files[0].size;if(!files[0].name.match(/.(jpg|jpeg|png|gif)$/i))return picpopup(),document.getElementById("row1").style.display="none",document.getElementById("row2").style.display="block",$("#upload").val(""),!1;if(4194304<size)return alert("Allowed file size exceeded. (Max. 4 MB)"),document.getElementById("row1").style.display="none",document.getElementById("row2").style.display=
"block",!1;$.ajax({url:base_url+"business_profile/imagedata",type:"POST",data:a,processData:!1,contentType:!1,success:function(a){}})});
